module.exports=function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=4)}([function(e,r,t){var n="undefined"!=typeof JSON?JSON:t(1);e.exports=function(e,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var t=r.space||"";"number"==typeof t&&(t=Array(t+1).join(" "));var o,c="boolean"==typeof r.cycles&&r.cycles,u=r.replacer||function(e,r){return r},a=r.cmp&&(o=r.cmp,function(e){return function(r,t){var n={key:r,value:e[r]},i={key:t,value:e[t]};return o(n,i)}}),p=[];return function e(r,o,d,g){var h=t?"\n"+new Array(g+1).join(t):"",y=t?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=u.call(r,o,d))){if("object"!=typeof d||null===d)return n.stringify(d);if(i(d)){for(var f=[],_=0;_<d.length;_++){var m=e(d,_,d[_],g+1)||n.stringify(null);f.push(h+t+m)}return"["+f.join(",")+h+"]"}if(-1!==p.indexOf(d)){if(c)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}p.push(d);var l=s(d).sort(a&&a(d));for(f=[],_=0;_<l.length;_++){var b=e(d,o=l[_],d[o],g+1);if(b){var q=n.stringify(o)+y+b;f.push(h+t+q)}}return p.splice(p.indexOf(d),1),"{"+f.join(",")+h+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},s=Object.keys||function(e){var r=Object.prototype.hasOwnProperty||function(){return!0},t=[];for(var n in e)r.call(e,n)&&t.push(n);return t}},function(e,r,t){r.parse=t(2),r.stringify=t(3)},function(e,r){var t,n,i,s,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},c=function(e){throw{name:"SyntaxError",message:e,at:t,text:i}},u=function(e){return e&&e!==n&&c("Expected '"+e+"' instead of '"+n+"'"),n=i.charAt(t),t+=1,n},a=function(){var e,r="";for("-"===n&&(r="-",u("-"));n>="0"&&n<="9";)r+=n,u();if("."===n)for(r+=".";u()&&n>="0"&&n<="9";)r+=n;if("e"===n||"E"===n)for(r+=n,u(),"-"!==n&&"+"!==n||(r+=n,u());n>="0"&&n<="9";)r+=n,u();if(e=+r,isFinite(e))return e;c("Bad number")},p=function(){var e,r,t,i="";if('"'===n)for(;u();){if('"'===n)return u(),i;if("\\"===n)if(u(),"u"===n){for(t=0,r=0;r<4&&(e=parseInt(u(),16),isFinite(e));r+=1)t=16*t+e;i+=String.fromCharCode(t)}else{if("string"!=typeof o[n])break;i+=o[n]}else i+=n}c("Bad string")},d=function(){for(;n&&n<=" ";)u()};s=function(){switch(d(),n){case"{":return function(){var e,r={};if("{"===n){if(u("{"),d(),"}"===n)return u("}"),r;for(;n;){if(e=p(),d(),u(":"),Object.hasOwnProperty.call(r,e)&&c('Duplicate key "'+e+'"'),r[e]=s(),d(),"}"===n)return u("}"),r;u(","),d()}}c("Bad object")}();case"[":return function(){var e=[];if("["===n){if(u("["),d(),"]"===n)return u("]"),e;for(;n;){if(e.push(s()),d(),"]"===n)return u("]"),e;u(","),d()}}c("Bad array")}();case'"':return p();case"-":return a();default:return n>="0"&&n<="9"?a():function(){switch(n){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}c("Unexpected '"+n+"'")}()}},e.exports=function(e,r){var o;return i=e,t=0,n=" ",o=s(),d(),n&&c("Syntax error"),"function"==typeof r?function e(t,n){var i,s,o=t[n];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(void 0!==(s=e(o,i))?o[i]=s:delete o[i]);return r.call(t,n,o)}({"":o},""):o}},function(e,r){var t,n,i,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function c(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var r=o[e];return"string"==typeof r?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}e.exports=function(e,r,s){var o;if(t="",n="","number"==typeof s)for(o=0;o<s;o+=1)n+=" ";else"string"==typeof s&&(n=s);if(i=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return function e(r,s){var o,u,a,p,d,g=t,h=s[r];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(r)),"function"==typeof i&&(h=i.call(s,r,h)),typeof h){case"string":return c(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(t+=n,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(p=h.length,o=0;o<p;o+=1)d[o]=e(o,h)||"null";return a=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+g+"]":"["+d.join(",")+"]",t=g,a}if(i&&"object"==typeof i)for(p=i.length,o=0;o<p;o+=1)"string"==typeof(u=i[o])&&(a=e(u,h))&&d.push(c(u)+(t?": ":":")+a);else for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&(a=e(u,h))&&d.push(c(u)+(t?": ":":")+a);return a=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+g+"}":"{"+d.join(",")+"}",t=g,a}}("",{"":e})}},function(e,r,t){"use strict";t.r(r);var n=t(0),i=t.n(n);class s{accountClosure(e={}){const r={account_closure:{required:1,type:"numeric"},passthrough:{},reason:{required:1,type:"string"},req_id:{type:"numeric"}},t=u({method:"account_closure",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}accountSecurity(e={}){const r={account_security:{required:1,type:"numeric"},otp:{type:"string"},passthrough:{},req_id:{type:"numeric"},totp_action:{}},t=u({method:"account_security",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}accountStatistics(e={}){const r={account_statistics:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"account_statistics",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}activeSymbols(e={}){const r={active_symbols:{required:1},landing_company:{},passthrough:{},product_type:{},req_id:{type:"numeric"}},t=u({method:"active_symbols",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}apiToken(e={}){const r={api_token:{required:1,type:"numeric"},delete_token:{type:"string"},new_token:{type:"string"},new_token_scopes:{},passthrough:{},req_id:{type:"numeric"},valid_for_current_ip_only:{type:"numeric"}},t=u({method:"api_token",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}appDelete(e={}){const r={app_delete:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"app_delete",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}appGet(e={}){const r={app_get:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"app_get",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}appList(e={}){const r={app_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"app_list",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}appMarkupDetails(e={}){const r={app_id:{type:"numeric"},app_markup_details:{required:1,type:"numeric"},client_loginid:{type:"string"},date_from:{required:1,type:"string"},date_to:{required:1,type:"string"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},sort:{type:"string"},sort_fields:{}},t=u({method:"app_markup_details",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}appRegister(e={}){const r={app_markup_percentage:{type:"numeric"},app_register:{required:1,type:"numeric"},appstore:{type:"string"},github:{type:"string"},googleplay:{type:"string"},homepage:{type:"string"},name:{required:1,type:"string"},passthrough:{},redirect_uri:{required:1,type:"string"},req_id:{type:"numeric"},scopes:{required:1},verification_uri:{type:"string"}},t=u({method:"app_register",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}appUpdate(e={}){const r={app_markup_percentage:{type:"numeric"},app_update:{required:1,type:"numeric"},appstore:{type:"string"},github:{type:"string"},googleplay:{type:"string"},homepage:{type:"string"},name:{required:1,type:"string"},passthrough:{},redirect_uri:{required:1,type:"string"},req_id:{type:"numeric"},scopes:{required:1},verification_uri:{type:"string"}},t=u({method:"app_update",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}assetIndex(e={}){const r={asset_index:{required:1,type:"numeric"},landing_company:{},passthrough:{},req_id:{type:"numeric"}},t=u({method:"asset_index",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}authorize(e={}){const r={add_to_login_history:{},authorize:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"authorize",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}balance(e={}){const r={balance:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},subscribe:{}},t=u({method:"balance",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}buy(e={}){const r={buy:{required:1,type:"string"},parameters:{amount:{type:"numeric"},app_markup_percentage:{type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},basis:{},contract_type:{required:1,type:"string"},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{},product_type:{type:"string"},selected_tick:{type:"numeric"},symbol:{required:1,type:"string"},trading_period_start:{type:"numeric"}},passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},subscribe:{}},t=u({method:"buy",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}buyContractForMultipleAccounts(e={}){const r={buy_contract_for_multiple_accounts:{required:1,type:"string"},parameters:{amount:{type:"numeric"},app_markup_percentage:{type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},basis:{},contract_type:{required:1,type:"string"},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{},selected_tick:{type:"numeric"},symbol:{required:1,type:"string"}},passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},tokens:{required:1}},t=u({method:"buy_contract_for_multiple_accounts",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}cashier(e={}){const r={cashier:{required:1},passthrough:{},provider:{},req_id:{type:"numeric"},verification_code:{type:"string"}},t=u({method:"cashier",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}cashierPassword(e={}){const r={cashier_password:{required:1,type:"numeric"},lock_password:{type:"string"},passthrough:{},req_id:{type:"numeric"},unlock_password:{type:"string"}},t=u({method:"cashier_password",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}changePassword(e={}){const r={change_password:{required:1,type:"numeric"},new_password:{required:1,type:"string"},old_password:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"change_password",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}contractsFor(e={}){const r={contracts_for:{required:1,type:"string"},currency:{type:"string"},landing_company:{},passthrough:{},product_type:{},req_id:{type:"numeric"}},t=u({method:"contracts_for",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}copyStart(e={}){const r={assets:{},copy_start:{required:1,type:"string"},max_trade_stake:{type:"numeric"},min_trade_stake:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},trade_types:{}},t=u({method:"copy_start",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}copyStop(e={}){const r={copy_stop:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"copy_stop",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}copytradingList(e={}){const r={copytrading_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"copytrading_list",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}copytradingStatistics(e={}){const r={copytrading_statistics:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},trader_id:{required:1,type:"string"}},t=u({method:"copytrading_statistics",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}documentUpload(e={}){const r={document_format:{required:1},document_id:{type:"string"},document_type:{required:1,type:"string"},document_upload:{required:1,type:"numeric"},expected_checksum:{required:1,type:"string"},expiration_date:{type:"string"},file_size:{required:1,type:"numeric"},page_type:{},passthrough:{},req_id:{type:"numeric"}},t=u({method:"document_upload",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}exchangeRates(e={}){const r={base_currency:{required:1,type:"string"},exchange_rates:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"exchange_rates",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}forget(e={}){const r={forget:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"forget",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}forgetAll(e={}){const r={forget_all:{required:1},passthrough:{},req_id:{type:"numeric"}},t=u({method:"forget_all",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}getAccountStatus(e={}){const r={get_account_status:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"get_account_status",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}getFinancialAssessment(e={}){const r={get_financial_assessment:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"get_financial_assessment",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}getLimits(e={}){const r={get_limits:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"get_limits",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}getSelfExclusion(e={}){const r={get_self_exclusion:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"get_self_exclusion",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}getSettings(e={}){const r={get_settings:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"get_settings",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}landingCompany(e={}){const r={landing_company:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"landing_company",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}landingCompanyDetails(e={}){const r={landing_company_details:{required:1},passthrough:{},req_id:{type:"numeric"}},t=u({method:"landing_company_details",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}loginHistory(e={}){const r={limit:{type:"numeric"},login_history:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"login_history",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}logout(e={}){const r={logout:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"logout",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5Deposit(e={}){const r={amount:{type:"numeric"},from_binary:{type:"string"},mt5_deposit:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},to_mt5:{required:1,type:"string"}},t=u({method:"mt5_deposit",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5GetSettings(e={}){const r={login:{required:1,type:"string"},mt5_get_settings:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"mt5_get_settings",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5LoginList(e={}){const r={mt5_login_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"mt5_login_list",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5Mamm(e={}){const r={action:{},login:{required:1,type:"string"},mt5_mamm:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"mt5_mamm",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5NewAccount(e={}){const r={account_type:{required:1},address:{type:"string"},city:{type:"string"},company:{type:"string"},country:{type:"string"},email:{required:1,type:"string"},investPassword:{required:1,type:"string"},leverage:{required:1,type:"string"},mainPassword:{required:1,type:"string"},manager_id:{type:"numeric"},mt5_account_type:{},mt5_new_account:{required:1,type:"numeric"},name:{required:1,type:"string"},passthrough:{},phone:{type:"string"},phonePassword:{type:"string"},req_id:{type:"numeric"},state:{type:"string"},zipCode:{type:"string"}},t=u({method:"mt5_new_account",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5PasswordChange(e={}){const r={login:{required:1,type:"string"},mt5_password_change:{required:1,type:"numeric"},new_password:{required:1,type:"string"},old_password:{required:1,type:"string"},passthrough:{},password_type:{},req_id:{type:"numeric"}},t=u({method:"mt5_password_change",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5PasswordCheck(e={}){const r={login:{required:1,type:"string"},mt5_password_check:{required:1,type:"numeric"},passthrough:{},password:{required:1,type:"string"},password_type:{},req_id:{type:"numeric"}},t=u({method:"mt5_password_check",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5PasswordReset(e={}){const r={login:{required:1,type:"string"},mt5_password_reset:{required:1,type:"numeric"},new_password:{required:1,type:"string"},passthrough:{},password_type:{type:"string"},req_id:{type:"numeric"},verification_code:{required:1,type:"string"}},t=u({method:"mt5_password_reset",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}mt5Withdrawal(e={}){const r={amount:{required:1,type:"numeric"},from_mt5:{required:1,type:"string"},mt5_withdrawal:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},to_binary:{required:1,type:"string"}},t=u({method:"mt5_withdrawal",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}newAccountMaltainvest(e={}){const r={accept_risk:{required:1,type:"numeric"},account_opening_reason:{type:"string"},account_turnover:{},address_city:{required:1,type:"string"},address_line_1:{required:1,type:"string"},address_line_2:{type:"string"},address_postcode:{type:"string"},address_state:{type:"string"},affiliate_token:{type:"string"},binary_options_trading_experience:{},binary_options_trading_frequency:{},cfd_trading_experience:{},cfd_trading_frequency:{},citizen:{type:"string"},client_type:{},date_of_birth:{required:1,type:"string"},education_level:{required:1},employment_industry:{required:1},employment_status:{},estimated_worth:{required:1},first_name:{required:1,type:"string"},forex_trading_experience:{},forex_trading_frequency:{},income_source:{required:1},last_name:{required:1,type:"string"},net_income:{required:1},new_account_maltainvest:{required:1,type:"numeric"},occupation:{required:1},other_instruments_trading_experience:{},other_instruments_trading_frequency:{},passthrough:{},phone:{required:1,type:"string"},place_of_birth:{required:1,type:"string"},req_id:{type:"numeric"},residence:{required:1,type:"string"},salutation:{required:1},secret_answer:{type:"string"},secret_question:{},source_of_wealth:{},tax_identification_number:{required:1,type:"string"},tax_residence:{required:1,type:"string"}},t=u({method:"new_account_maltainvest",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}newAccountReal(e={}){const r={account_opening_reason:{type:"string"},account_turnover:{},address_city:{type:"string"},address_line_1:{type:"string"},address_line_2:{type:"string"},address_postcode:{type:"string"},address_state:{type:"string"},affiliate_token:{type:"string"},citizen:{},client_type:{},currency:{},date_of_birth:{required:1,type:"string"},first_name:{required:1,type:"string"},last_name:{required:1,type:"string"},new_account_real:{required:1,type:"numeric"},passthrough:{},phone:{type:"string"},place_of_birth:{type:"string"},req_id:{type:"numeric"},residence:{required:1,type:"string"},salutation:{required:1},secret_answer:{type:"string"},secret_question:{},tax_identification_number:{type:"string"},tax_residence:{type:"string"}},t=u({method:"new_account_real",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}newAccountVirtual(e={}){const r={affiliate_token:{type:"string"},client_password:{required:1,type:"string"},date_first_contact:{type:"string"},gclid_url:{type:"string"},new_account_virtual:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},residence:{required:1,type:"string"},signup_device:{},utm_campaign:{type:"string"},utm_medium:{type:"string"},utm_source:{type:"string"},verification_code:{required:1,type:"string"}},t=u({method:"new_account_virtual",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}oauthApps(e={}){const r={oauth_apps:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}},t=u({method:"oauth_apps",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}paymentagentList(e={}){const r={currency:{type:"string"},passthrough:{},paymentagent_list:{required:1,type:"string"},req_id:{type:"numeric"}},t=u({method:"paymentagent_list",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}paymentagentTransfer(e={}){const r={amount:{required:1,type:"numeric"},currency:{required:1,type:"string"},description:{type:"string"},dry_run:{type:"numeric"},passthrough:{},paymentagent_transfer:{required:1,type:"numeric"},req_id:{type:"numeric"},transfer_to:{required:1,type:"string"}},t=u({method:"paymentagent_transfer",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}paymentagentWithdraw(e={}){const r={amount:{required:1,type:"numeric"},currency:{required:1,type:"string"},description:{type:"string"},dry_run:{type:"numeric"},passthrough:{},paymentagent_loginid:{required:1,type:"string"},paymentagent_withdraw:{required:1,type:"numeric"},req_id:{type:"numeric"},verification_code:{required:1,type:"string"}},t=u({method:"paymentagent_withdraw",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}payoutCurrencies(e={}){const r={passthrough:{},payout_currencies:{required:1,type:"numeric"},req_id:{type:"numeric"}},t=u({method:"payout_currencies",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}ping(e={}){const r={passthrough:{},ping:{required:1},req_id:{type:"numeric"}},t=u({method:"ping",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}portfolio(e={}){const r={passthrough:{},portfolio:{required:1,type:"numeric"},req_id:{type:"numeric"}},t=u({method:"portfolio",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}profitTable(e={}){const r={date_from:{type:"string"},date_to:{type:"string"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},profit_table:{required:1,type:"numeric"},req_id:{type:"numeric"},sort:{type:"string"}},t=u({method:"profit_table",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}proposal(e={}){const r={amount:{required:1,type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},basis:{required:1},contract_type:{required:1},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{},passthrough:{},product_type:{},proposal:{required:1,type:"numeric"},req_id:{type:"numeric"},selected_tick:{type:"numeric"},subscribe:{},symbol:{required:1,type:"string"},trading_period_start:{type:"numeric"}},t=u({method:"proposal",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}proposalArray(e={}){const r={amount:{required:1,type:"numeric"},barriers:{required:1},basis:{required:1},contract_type:{required:1},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{},passthrough:{},product_type:{},proposal_array:{required:1,type:"numeric"},req_id:{type:"numeric"},subscribe:{},symbol:{required:1,type:"string"},trading_period_start:{type:"numeric"}},t=u({method:"proposal_array",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}proposalOpenContract(e={}){const r={contract_id:{type:"numeric"},passthrough:{},proposal_open_contract:{required:1},req_id:{type:"numeric"},subscribe:{type:"numeric"}},t=u({method:"proposal_open_contract",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}realityCheck(e={}){const r={passthrough:{},reality_check:{required:1,type:"numeric"},req_id:{type:"numeric"}},t=u({method:"reality_check",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}requestReport(e={}){const r={date_from:{required:1,type:"numeric"},date_to:{required:1,type:"numeric"},passthrough:{},report_type:{required:1,type:"string"},req_id:{type:"numeric"},request_report:{required:1,type:"numeric"}},t=u({method:"request_report",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}resetPassword(e={}){const r={date_of_birth:{type:"string"},new_password:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"},reset_password:{required:1,type:"numeric"},verification_code:{required:1,type:"string"}},t=u({method:"reset_password",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}residenceList(e={}){const r={passthrough:{},req_id:{type:"numeric"},residence_list:{required:1,type:"numeric"}},t=u({method:"residence_list",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}revokeOauthApp(e={}){const r={passthrough:{},req_id:{type:"numeric"},revoke_oauth_app:{required:1,type:"numeric"}},t=u({method:"revoke_oauth_app",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}sell(e={}){const r={passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},sell:{required:1,type:"numeric"}},t=u({method:"sell",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}sellContractForMultipleAccounts(e={}){const r={passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},sell_contract_for_multiple_accounts:{required:1,type:"numeric"},shortcode:{required:1,type:"string"},tokens:{required:1}},t=u({method:"sell_contract_for_multiple_accounts",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}sellExpired(e={}){const r={passthrough:{},req_id:{type:"numeric"},sell_expired:{required:1,type:"numeric"}},t=u({method:"sell_expired",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}serviceToken(e={}){const r={passthrough:{},referrer:{required:1,type:"string"},req_id:{type:"numeric"},service:{required:1,type:"string"},service_token:{required:1,type:"numeric"}},t=u({method:"service_token",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}setAccountCurrency(e={}){const r={passthrough:{},req_id:{type:"numeric"},set_account_currency:{required:1}},t=u({method:"set_account_currency",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}setFinancialAssessment(e={}){const r={account_turnover:{},binary_options_trading_experience:{},binary_options_trading_frequency:{},cfd_trading_experience:{},cfd_trading_frequency:{},education_level:{required:1},employment_industry:{required:1},employment_status:{},estimated_worth:{required:1},forex_trading_experience:{},forex_trading_frequency:{},income_source:{required:1},net_income:{required:1},occupation:{required:1},other_instruments_trading_experience:{},other_instruments_trading_frequency:{},passthrough:{},req_id:{type:"numeric"},set_financial_assessment:{required:1,type:"numeric"},source_of_wealth:{}},t=u({method:"set_financial_assessment",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}setSelfExclusion(e={}){const r={exclude_until:{},max_30day_losses:{},max_30day_turnover:{},max_7day_losses:{},max_7day_turnover:{},max_balance:{},max_deposit:{},max_deposit_end_date:{},max_losses:{},max_open_bets:{},max_turnover:{},passthrough:{},req_id:{type:"numeric"},session_duration_limit:{},set_self_exclusion:{required:1,type:"numeric"},timeout_until:{}},t=u({method:"set_self_exclusion",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}setSettings(e={}){const r={account_opening_reason:{type:"string"},address_city:{type:"string"},address_line_1:{type:"string"},address_line_2:{},address_postcode:{type:"string"},address_state:{type:"string"},allow_copiers:{type:"numeric"},citizen:{},date_of_birth:{type:"string"},email_consent:{type:"numeric"},first_name:{type:"string"},last_name:{type:"string"},passthrough:{},phone:{},place_of_birth:{type:"string"},req_id:{type:"numeric"},request_professional_status:{type:"numeric"},residence:{},salutation:{},secret_answer:{type:"string"},secret_question:{},set_settings:{required:1,type:"numeric"},tax_identification_number:{type:"string"},tax_residence:{type:"string"}},t=u({method:"set_settings",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}statement(e={}){const r={action_type:{type:"string"},date_from:{type:"numeric"},date_to:{type:"numeric"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},statement:{required:1,type:"numeric"}},t=u({method:"statement",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}statesList(e={}){const r={passthrough:{},req_id:{type:"numeric"},states_list:{required:1,type:"string"}},t=u({method:"states_list",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}ticks(e={}){const r={passthrough:{},req_id:{type:"numeric"},subscribe:{},ticks:{required:1}},t=u({method:"ticks",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}ticksHistory(e={}){const r={adjust_start_time:{type:"numeric"},count:{type:"numeric"},end:{required:1,type:"string"},granularity:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},start:{type:"numeric"},style:{},subscribe:{},ticks_history:{required:1,type:"string"}},t=u({method:"ticks_history",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}time(e={}){const r={passthrough:{},req_id:{type:"numeric"},time:{required:1,type:"numeric"}},t=u({method:"time",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}tncApproval(e={}){const r={passthrough:{},req_id:{type:"numeric"},tnc_approval:{required:1,type:"numeric"},ukgc_funds_protection:{type:"numeric"}},t=u({method:"tnc_approval",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}topupVirtual(e={}){const r={passthrough:{},req_id:{type:"numeric"},topup_virtual:{required:1,type:"numeric"}},t=u({method:"topup_virtual",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}tradingDurations(e={}){const r={landing_company:{},passthrough:{},req_id:{type:"numeric"},trading_durations:{required:1,type:"numeric"}},t=u({method:"trading_durations",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}tradingTimes(e={}){const r={passthrough:{},req_id:{type:"numeric"},trading_times:{required:1,type:"string"}},t=u({method:"trading_times",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}transaction(e={}){const r={passthrough:{},req_id:{type:"numeric"},subscribe:{required:1,type:"numeric"},transaction:{required:1}},t=u({method:"transaction",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}transferBetweenAccounts(e={}){const r={account_from:{type:"string"},account_to:{type:"string"},amount:{type:"numeric"},currency:{type:"string"},passthrough:{},req_id:{type:"numeric"},transfer_between_accounts:{required:1,type:"numeric"}},t=u({method:"transfer_between_accounts",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}verifyEmail(e={}){const r={passthrough:{},req_id:{type:"numeric"},type:{required:1},url_parameters:{affiliate_token:{type:"string"},date_first_contact:{type:"string"},gclid_url:{type:"string"},signup_device:{},utm_campaign:{type:"string"},utm_medium:{type:"string"},utm_source:{type:"string"}},verify_email:{required:1,type:"string"}},t=u({method:"verify_email",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}websiteStatus(e={}){const r={passthrough:{},req_id:{type:"numeric"},subscribe:{},website_status:{required:1}},t=u({method:"website_status",needsMethodArg:"1",args:e,config:r}),n=a({config:r,args:t});return n?Promise.reject(n):this.send(t)}}const o=e=>e instanceof Object,c={object:o,numeric:e=>!Number.isNaN(1*e),string:e=>"string"==typeof e,boolean:e=>[!0,!1,0,1].includes(e)};function u({config:e,args:r,method:t,needsMethodArg:n}){let i=r;return n&&!o(i)&&(i={[t]:i}),i[t]=i[t]||1,Object.keys(i).forEach(r=>{const t=i[r];r in e&&("string"===e[r].type?i[r]=`${t}`:"numeric"===e[r].type?i[r]=parseInt(t,10):"boolean"===e[r].type&&(i[r]=+t))}),i}function a({config:e,args:r}){if(!o(r))return`Requires an object but a ${typeof r} is passed.`;const t=[],n=Object.keys(e).filter(t=>(e[t]||{}).required&&!(t in r));return n.length&&t.push(`Required parameters missing: ${n.join(", ")}`),Object.keys(r).forEach(n=>{const i=r[n];if(!(n in e))return;const s=e[n].type;s&&(c[s](i)||t.push(`${s} value expected but found ${typeof i}: ${n}`))}),t.length?t.join(" - "):""}function p(e){return class extends Error{constructor(r){super(),this.type=e,this.message=r}toString(){return`${this.type}: ${this.message}`}}}class d extends(p("APIError")){}class g extends(p("ConstructionError")){}class h extends(p("CallError")){}class y extends Error{constructor(e){const{code:r,message:t,details:n}=e.error;super(),this.type="ResponseError",this.code=r,this.message=t,this.details=n}toString(){return`${this.code}: ${this.message}`}}class f extends s{constructor(e){if(!e)throw new g("Cache object needs an API to work");super(),this.api=e,this.storage={}}async send(e){return this.has(e)?this.get(e):this.api.send(e)}has(e){return _(e)in this.storage}get(e){const r=_(e);return this.storage[r]}set(e,r){const t=_(e);this.storage[t]=r}}function _(e){const r={...e};return delete r.req_id,delete r.passthrough,delete r.subscribe,i()(r)}function m(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}m.prototype=Object.create(Error.prototype);var l=m,b=function(e,r){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function q(e,r){function t(){this.constructor=e}b(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}function w(e){return"function"==typeof e}var v=!1,j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;v=e},get useDeprecatedSynchronousErrorHandling(){return v}};function P(e){setTimeout(function(){throw e},0)}var A={closed:!0,next:function(e){},error:function(e){if(j.useDeprecatedSynchronousErrorHandling)throw e;P(e)},complete:function(){}},x=Array.isArray||function(e){return e&&"number"==typeof e.length};function M(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,r){return r+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}M.prototype=Object.create(Error.prototype);var S=M,E=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var r;if(!this.closed){var t,n=this._parentOrParents,i=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o){n[o].remove(this)}if(w(i))try{i.call(this)}catch(e){r=e instanceof S?O(e.errors):[e]}if(x(s)){o=-1;for(var c=s.length;++o<c;){var u=s[o];if(null!==(t=u)&&"object"==typeof t)try{u.unsubscribe()}catch(e){r=r||[],e instanceof S?r=r.concat(O(e.errors)):r.push(e)}}}if(r)throw new S(r)}},e.prototype.add=function(r){var t=r;if(!r)return e.EMPTY;switch(typeof r){case"function":t=new e(r);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof e)){var n=t;(t=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var i=t._parentOrParents;if(null===i)t._parentOrParents=this;else if(i instanceof e){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[t]:s.push(t),t},e.prototype.remove=function(e){var r=this._subscriptions;if(r){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function O(e){return e.reduce(function(e,r){return e.concat(r instanceof S?r.errors:r)},[])}var k="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),T=function(e){function r(t,n,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=A;break;case 1:if(!t){s.destination=A;break}if("object"==typeof t){t instanceof r?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(s)):(s.syncErrorThrowable=!0,s.destination=new C(s,t));break}default:s.syncErrorThrowable=!0,s.destination=new C(s,t,n,i)}return s}return q(r,e),r.prototype[k]=function(){return this},r.create=function(e,t,n){var i=new r(e,t,n);return i.syncErrorThrowable=!1,i},r.prototype.next=function(e){this.isStopped||this._next(e)},r.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},r}(E),C=function(e){function r(r,t,n,i){var s,o=e.call(this)||this;o._parentSubscriber=r;var c=o;return w(t)?s=t:t&&(s=t.next,n=t.error,i=t.complete,t!==A&&(w((c=Object.create(t)).unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=s,o._error=n,o._complete=i,o}return q(r,e),r.prototype.next=function(e){if(!this.isStopped&&this._next){var r=this._parentSubscriber;j.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},r.prototype.error=function(e){if(!this.isStopped){var r=this._parentSubscriber,t=j.useDeprecatedSynchronousErrorHandling;if(this._error)t&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(r.syncErrorThrowable)t?(r.syncErrorValue=e,r.syncErrorThrown=!0):P(e),this.unsubscribe();else{if(this.unsubscribe(),t)throw e;P(e)}}},r.prototype.complete=function(){var e=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var t=function(){return e._complete.call(e._context)};j.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(e,r){try{e.call(this._context,r)}catch(e){if(this.unsubscribe(),j.useDeprecatedSynchronousErrorHandling)throw e;P(e)}},r.prototype.__tryOrSetError=function(e,r,t){if(!j.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,t)}catch(r){return j.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(P(r),!0)}return!1},r.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},r}(T);var R=function(){function e(e,r){this.predicate=e,this.thisArg=r}return e.prototype.call=function(e,r){return r.subscribe(new D(e,this.predicate,this.thisArg))},e}(),D=function(e){function r(r,t,n){var i=e.call(this,r)||this;return i.predicate=t,i.thisArg=n,i.count=0,i}return q(r,e),r.prototype._next=function(e){var r;try{r=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}r&&this.destination.next(e)},r}(T);function $(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}$.prototype=Object.create(Error.prototype);var N=$;var H="function"==typeof Symbol&&Symbol.observable||"@@observable";function U(){}function V(e){return e?1===e.length?e[0]:function(r){return e.reduce(function(e,r){return r(e)},r)}:U}var F=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(e,r,t){var n=this.operator,i=function(e,r,t){if(e){if(e instanceof T)return e;if(e[k])return e[k]()}return e||r||t?new T(e,r,t):new T(A)}(e,r,t);if(n?i.add(n.call(i,this.source)):i.add(this.source||j.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),j.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){j.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),!function(e){for(;e;){var r=e,t=r.closed,n=r.destination,i=r.isStopped;if(t||i)return!1;e=n&&n instanceof T?n:null}return!0}(e)?console.warn(r):e.error(r)}},e.prototype.forEach=function(e,r){var t=this;return new(r=J(r))(function(r,n){var i;i=t.subscribe(function(r){try{e(r)}catch(e){n(e),i&&i.unsubscribe()}},n,r)})},e.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},e.prototype[H]=function(){return this},e.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 0===e.length?this:V(e)(this)},e.prototype.toPromise=function(e){var r=this;return new(e=J(e))(function(e,t){var n;r.subscribe(function(e){return n=e},function(e){return t(e)},function(){return e(n)})})},e.create=function(r){return new e(r)},e}();function J(e){if(e||(e=j.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var I=new F(function(e){return e.complete()});function L(e){return e?function(e){return new F(function(r){return e.schedule(function(){return r.complete()})})}(e):I}var z=function(){function e(e){if(this.total=e,this.total<0)throw new N}return e.prototype.call=function(e,r){return r.subscribe(new B(e,this.total))},e}(),B=function(e){function r(r,t){var n=e.call(this,r)||this;return n.total=t,n.count=0,n}return q(r,e),r.prototype._next=function(e){var r=this.total,t=++this.count;t<=r&&(this.destination.next(e),t===r&&(this.destination.complete(),this.unsubscribe()))},r}(T);var Y=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,r){return r.subscribe(new W(e,this.defaultValue))},e}(),W=function(e){function r(r,t){var n=e.call(this,r)||this;return n.defaultValue=t,n.isEmpty=!0,n}return q(r,e),r.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},r.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},r}(T);var G=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,r){return r.subscribe(new K(e,this.errorFactory))},e}(),K=function(e){function r(r,t){var n=e.call(this,r)||this;return n.errorFactory=t,n.hasValue=!1,n}return q(r,e),r.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},r.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(r){e=r}this.destination.error(e)},r}(T);function Q(){return new l}function X(e){return e}function Z(e,r){var t=arguments.length>=2;return function(n){return n.pipe(e?function(e,r){return function(t){return t.lift(new R(e,r))}}(function(r,t){return e(r,t,n)}):X,(i=1,function(e){return 0===i?L():e.lift(new z(i))}),t?function(e){return void 0===e&&(e=null),function(r){return r.lift(new Y(e))}}(r):function(e){return void 0===e&&(e=Q),function(r){return r.lift(new G(e))}}(function(){return new l}));var i}}function ee(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}ee.prototype=Object.create(Error.prototype);var re=ee,te=function(e){function r(r,t){var n=e.call(this)||this;return n.subject=r,n.subscriber=t,n.closed=!1,n}return q(r,e),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,r=e.observers;if(this.subject=null,r&&0!==r.length&&!e.isStopped&&!e.closed){var t=r.indexOf(this.subscriber);-1!==t&&r.splice(t,1)}}},r}(E),ne=function(e){function r(r){var t=e.call(this,r)||this;return t.destination=r,t}return q(r,e),r}(T),ie=function(e){function r(){var r=e.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return q(r,e),r.prototype[k]=function(){return new ne(this)},r.prototype.lift=function(e){var r=new se(this,this);return r.operator=e,r},r.prototype.next=function(e){if(this.closed)throw new re;if(!this.isStopped)for(var r=this.observers,t=r.length,n=r.slice(),i=0;i<t;i++)n[i].next(e)},r.prototype.error=function(e){if(this.closed)throw new re;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var r=this.observers,t=r.length,n=r.slice(),i=0;i<t;i++)n[i].error(e);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new re;this.isStopped=!0;for(var e=this.observers,r=e.length,t=e.slice(),n=0;n<r;n++)t[n].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new re;return e.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(e){if(this.closed)throw new re;return this.hasError?(e.error(this.thrownError),E.EMPTY):this.isStopped?(e.complete(),E.EMPTY):(this.observers.push(e),new te(this,e))},r.prototype.asObservable=function(){var e=new F;return e.source=this,e},r.create=function(e,r){return new se(e,r)},r}(F),se=function(e){function r(r,t){var n=e.call(this)||this;return n.destination=r,n.source=t,n}return q(r,e),r.prototype.next=function(e){var r=this.destination;r&&r.next&&r.next(e)},r.prototype.error=function(e){var r=this.destination;r&&r.error&&this.destination.error(e)},r.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},r.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):E.EMPTY},r}(ie);class oe extends Promise{constructor(e=(()=>{})){let r,t;super((e,n)=>{r=e,t=n}),e(r,t),this.resolveCallback=r,this.rejectCallback=t}resolve(e){return this.resolveCallback(e),this}reject(e){return this.rejectCallback(e),this}}t.d(r,"default",function(){return ce});class ce extends s{constructor({connection:e,endpoint:r="blue.binaryws.com",app_id:t=1,lang:n="EN"}={}){super(),e?this.connection=e:(this.shouldReconnect=!0,this.connectionArgs={app_id:t,endpointUrl:ue(r),lang:n.toUpperCase()},this.connect()),this.connection.onopen=this.onOpen.bind(this),this.connection.onclose=this.onClose.bind(this),this.connection.onmessage=this.onMessage.bind(this),this.reqId=0,this.connected=new oe,this.sanityErrors=new ie,this.cache=new f(this),this.pendingRequests={}}connect(){if(!this.connectionArgs)throw new g("Connection arguments are required to create a connection.");const{endpointUrl:e,lang:r,app_id:t}=this.connectionArgs;this.connection=new WebSocket(`${e.toString()}websockets/v3?l=${r}&app_id=${t}`)}disconnect(){this.shouldReconnect=!1,this.connection.close()}async send(e){const r=new ie;e.req_id=e.req_id||++this.reqId,this.pendingRequests[e.req_id]=r,await this.connected;const t=r.pipe(Z()).toPromise();this.connection.send(JSON.stringify(e));const n=await t;return this.cache.set(e,n),n}async subscribeWithCallback(e,r){if(!r)throw new h("A callback is required for subscription");const t=this.subscribe(e);return t.subscribe(r,()=>{}),t.pipe(Z()).toPromise()}subscribe(e){return e.subscribe=1,this.send(e).catch(()=>{}),this.pendingRequests[e.req_id]}onOpen(){1===this.connection.readyState?this.connected.resolve():setTimeout(this.onOpen.bind(this),50)}onMessage(e){if(!e.data)return void this.sanityErrors.next(new d("Something went wrong while receiving the response from API."));const r=JSON.parse(e.data),t=r.req_id;t in this.pendingRequests?r.error?this.pendingRequests[t].error(new y(r)):this.pendingRequests[t].next(r):this.sanityErrors.next(new d("Extra response"))}onClose(){this.shouldReconnect&&this.connect()}}function ue(e){if("string"!=typeof e)throw new g(`Endpoint must be a string, passed: ${typeof e}`);let r;try{const[t,n,i]=e.match(/((?:\w*:\/\/)*)(.*)/);r=new URL(`${"ws://"===n?n:"wss://"}${i}`)}catch(r){throw new g(`Invalid URL: ${e}`)}return r}}]);