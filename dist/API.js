!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DerivAPI=e():t.DerivAPI=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([,function(t,e,r){t.exports=function(){"use strict";var t="millisecond",e="second",r="minute",n="hour",s="day",i="week",o="month",c="quarter",a="year",u=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,p=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},h={s:d,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),s=r%60;return(e<=0?"+":"-")+d(n,2,"0")+":"+d(s,2,"0")},m:function(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,o),s=e-n<0,i=t.clone().add(r+(s?-1:1),o);return Number(-(r+(e-n)/(s?n-i:i-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:o,y:a,w:i,d:s,h:n,m:r,s:e,ms:t,Q:c}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},l="en",y={};y[l]=_;var g=function(t){return t instanceof q},f=function(t,e,r){var n;if(!t)return l;if("string"==typeof t)y[t]&&(n=t),e&&(y[t]=e,n=t);else{var s=t.name;y[s]=t,n=s}return r||(l=n),n},m=function(t,e,r){if(g(t))return t.clone();var n=e?"string"==typeof e?{format:e,pl:r}:e:{};return n.date=t,new q(n)},b=h;b.l=f,b.i=g,b.w=function(t,e){return m(t,{locale:e.$L,utc:e.$u})};var q=function(){function d(t){this.$L=this.$L||f(t.locale,null,!0),this.parse(t)}var h=d.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(u);if(n)return r?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(e)}(t),this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return b},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var r=m(t);return this.startOf(e)<=r&&r<=this.endOf(e)},h.isAfter=function(t,e){return m(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<m(t)},h.$g=function(t,e,r){return b.u(t)?this[e]:this.set(r,t)},h.year=function(t){return this.$g(t,"$y",a)},h.month=function(t){return this.$g(t,"$M",o)},h.day=function(t){return this.$g(t,"$W",s)},h.date=function(t){return this.$g(t,"$D","date")},h.hour=function(t){return this.$g(t,"$H",n)},h.minute=function(t){return this.$g(t,"$m",r)},h.second=function(t){return this.$g(t,"$s",e)},h.millisecond=function(e){return this.$g(e,"$ms",t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,c){var u=this,p=!!b.u(c)||c,d=b.p(t),h=function(t,e){var r=b.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return p?r:r.endOf(s)},_=function(t,e){return b.w(u.toDate()[t].apply(u.toDate(),(p?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},l=this.$W,y=this.$M,g=this.$D,f="set"+(this.$u?"UTC":"");switch(d){case a:return p?h(1,0):h(31,11);case o:return p?h(1,y):h(0,y+1);case i:var m=this.$locale().weekStart||0,q=(l<m?l+7:l)-m;return h(p?g-q:g+(6-q),y);case s:case"date":return _(f+"Hours",0);case n:return _(f+"Minutes",1);case r:return _(f+"Seconds",2);case e:return _(f+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,c){var u,p=b.p(i),d="set"+(this.$u?"UTC":""),h=(u={},u[s]=d+"Date",u.date=d+"Date",u[o]=d+"Month",u[a]=d+"FullYear",u[n]=d+"Hours",u[r]=d+"Minutes",u[e]=d+"Seconds",u[t]=d+"Milliseconds",u)[p],_=p===s?this.$D+(c-this.$W):c;if(p===o||p===a){var l=this.clone().set("date",1);l.$d[h](_),l.init(),this.$d=l.set("date",Math.min(this.$D,l.daysInMonth())).toDate()}else h&&this.$d[h](_);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[b.p(t)]()},h.add=function(t,c){var u,p=this;t=Number(t);var d=b.p(c),h=function(e){var r=m(p);return b.w(r.date(r.date()+Math.round(e*t)),p)};if(d===o)return this.set(o,this.$M+t);if(d===a)return this.set(a,this.$y+t);if(d===s)return h(1);if(d===i)return h(7);var _=(u={},u[r]=6e4,u[n]=36e5,u[e]=1e3,u)[d]||1,l=this.valueOf()+t*_;return b.w(l,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),s=this.$locale(),i=this.$H,o=this.$m,c=this.$M,a=s.weekdays,u=s.months,d=function(t,n,s,i){return t&&(t[n]||t(e,r))||s[n].substr(0,i)},h=function(t){return b.s(i%12||12,t,"0")},_=s.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:b.s(c+1,2,"0"),MMM:d(s.monthsShort,c,u,3),MMMM:u[c]||u(this,r),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(s.weekdaysMin,this.$W,a,2),ddd:d(s.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(i),HH:b.s(i,2,"0"),h:h(1),hh:h(2),a:_(i,o,!0),A:_(i,o,!1),m:String(o),mm:b.s(o,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:n};return r.replace(p,function(t,e){return e||l[t]||n.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,u,p){var d,h=b.p(u),_=m(t),l=6e4*(_.utcOffset()-this.utcOffset()),y=this-_,g=b.m(this,_);return g=(d={},d[a]=g/12,d[o]=g,d[c]=g/3,d[i]=(y-l)/6048e5,d[s]=(y-l)/864e5,d[n]=y/36e5,d[r]=y/6e4,d[e]=y/1e3,d)[h]||y,p?g:b.a(g)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return y[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var r=this.clone();return r.$L=f(t,e,!0),r},h.clone=function(){return b.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.toISOString()},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},d}();return m.prototype=q.prototype,m.extend=function(t,e){return t(e,q,m),m},m.locale=f,m.isDayjs=g,m.unix=function(t){return m(1e3*t)},m.en=y[l],m.Ls=y,m}()},function(t,e,r){var n="undefined"!=typeof JSON?JSON:r(6);t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r=e.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var o,c="boolean"==typeof e.cycles&&e.cycles,a=e.replacer||function(t,e){return e},u=e.cmp&&(o=e.cmp,function(t){return function(e,r){var n={key:e,value:t[e]},s={key:r,value:t[r]};return o(n,s)}}),p=[];return function t(e,o,d,h){var _=r?"\n"+new Array(h+1).join(r):"",l=r?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=a.call(e,o,d))){if("object"!=typeof d||null===d)return n.stringify(d);if(s(d)){for(var y=[],g=0;g<d.length;g++){var f=t(d,g,d[g],h+1)||n.stringify(null);y.push(_+r+f)}return"["+y.join(",")+_+"]"}if(-1!==p.indexOf(d)){if(c)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}p.push(d);var m=i(d).sort(u&&u(d));for(y=[],g=0;g<m.length;g++){var b=t(d,o=m[g],d[o],h+1);if(b){var q=n.stringify(o)+l+b;y.push(_+r+q)}}return p.splice(p.indexOf(d),1),"{"+y.join(",")+_+"}"}}({"":t},"",t,0)};var s=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},i=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r}},function(t,e,r){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}}()},function(t,e,r){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)}}}()},,function(t,e,r){e.parse=r(7),e.stringify=r(8)},function(t,e){var r,n,s,i,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},c=function(t){throw{name:"SyntaxError",message:t,at:r,text:s}},a=function(t){return t&&t!==n&&c("Expected '"+t+"' instead of '"+n+"'"),n=s.charAt(r),r+=1,n},u=function(){var t,e="";for("-"===n&&(e="-",a("-"));n>="0"&&n<="9";)e+=n,a();if("."===n)for(e+=".";a()&&n>="0"&&n<="9";)e+=n;if("e"===n||"E"===n)for(e+=n,a(),"-"!==n&&"+"!==n||(e+=n,a());n>="0"&&n<="9";)e+=n,a();if(t=+e,isFinite(t))return t;c("Bad number")},p=function(){var t,e,r,s="";if('"'===n)for(;a();){if('"'===n)return a(),s;if("\\"===n)if(a(),"u"===n){for(r=0,e=0;e<4&&(t=parseInt(a(),16),isFinite(t));e+=1)r=16*r+t;s+=String.fromCharCode(r)}else{if("string"!=typeof o[n])break;s+=o[n]}else s+=n}c("Bad string")},d=function(){for(;n&&n<=" ";)a()};i=function(){switch(d(),n){case"{":return function(){var t,e={};if("{"===n){if(a("{"),d(),"}"===n)return a("}"),e;for(;n;){if(t=p(),d(),a(":"),Object.hasOwnProperty.call(e,t)&&c('Duplicate key "'+t+'"'),e[t]=i(),d(),"}"===n)return a("}"),e;a(","),d()}}c("Bad object")}();case"[":return function(){var t=[];if("["===n){if(a("["),d(),"]"===n)return a("]"),t;for(;n;){if(t.push(i()),d(),"]"===n)return a("]"),t;a(","),d()}}c("Bad array")}();case'"':return p();case"-":return u();default:return n>="0"&&n<="9"?u():function(){switch(n){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}c("Unexpected '"+n+"'")}()}},t.exports=function(t,e){var o;return s=t,r=0,n=" ",o=i(),d(),n&&c("Syntax error"),"function"==typeof e?function t(r,n){var s,i,o=r[n];if(o&&"object"==typeof o)for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(void 0!==(i=t(o,s))?o[s]=i:delete o[s]);return e.call(r,n,o)}({"":o},""):o}},function(t,e){var r,n,s,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function c(t){return i.lastIndex=0,i.test(t)?'"'+t.replace(i,function(t){var e=o[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}t.exports=function(t,e,i){var o;if(r="",n="","number"==typeof i)for(o=0;o<i;o+=1)n+=" ";else"string"==typeof i&&(n=i);if(s=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return function t(e,i){var o,a,u,p,d,h=r,_=i[e];switch(_&&"object"==typeof _&&"function"==typeof _.toJSON&&(_=_.toJSON(e)),"function"==typeof s&&(_=s.call(i,e,_)),typeof _){case"string":return c(_);case"number":return isFinite(_)?String(_):"null";case"boolean":case"null":return String(_);case"object":if(!_)return"null";if(r+=n,d=[],"[object Array]"===Object.prototype.toString.apply(_)){for(p=_.length,o=0;o<p;o+=1)d[o]=t(o,_)||"null";return u=0===d.length?"[]":r?"[\n"+r+d.join(",\n"+r)+"\n"+h+"]":"["+d.join(",")+"]",r=h,u}if(s&&"object"==typeof s)for(p=s.length,o=0;o<p;o+=1)"string"==typeof(a=s[o])&&(u=t(a,_))&&d.push(c(a)+(r?": ":":")+u);else for(a in _)Object.prototype.hasOwnProperty.call(_,a)&&(u=t(a,_))&&d.push(c(a)+(r?": ":":")+u);return u=0===d.length?"{}":r?"{\n"+r+d.join(",\n"+r)+"\n"+h+"}":"{"+d.join(",")+"}",r=h,u}}("",{"":t})}},function(t,e,r){"use strict";function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}r.r(e),n.prototype=Object.create(Error.prototype);var s=n,i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function o(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function c(t){return"function"==typeof t}var a=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;a=t},get useDeprecatedSynchronousErrorHandling(){return a}};function p(t){setTimeout(function(){throw t},0)}var d={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;p(t)},complete:function(){}},h=Array.isArray||function(t){return t&&"number"==typeof t.length};function _(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}_.prototype=Object.create(Error.prototype);var l=_,y=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r,n=this._parentOrParents,s=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o){n[o].remove(this)}if(c(s))try{s.call(this)}catch(t){e=t instanceof l?g(t.errors):[t]}if(h(i)){o=-1;for(var a=i.length;++o<a;){var u=i[o];if(null!==(r=u)&&"object"==typeof r)try{u.unsubscribe()}catch(t){e=e||[],t instanceof l?e=e.concat(g(t.errors)):e.push(t)}}}if(e)throw new l(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var s=r._parentOrParents;if(null===s)r._parentOrParents=this;else if(s instanceof t){if(s===this)return r;r._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return r;s.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function g(t){return t.reduce(function(t,e){return t.concat(e instanceof l?e.errors:e)},[])}var f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(t){function e(r,n,s){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=d;break;case 1:if(!r){i.destination=d;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new b(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new b(i,r,n,s)}return i}return o(e,t),e.prototype[f]=function(){return this},e.create=function(t,r,n){var s=new e(t,r,n);return s.syncErrorThrowable=!1,s},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(y),b=function(t){function e(e,r,n,s){var i,o=t.call(this)||this;o._parentSubscriber=e;var a=o;return c(r)?i=r:r&&(i=r.next,n=r.error,s=r.complete,r!==d&&(c((a=Object.create(r)).unsubscribe)&&o.add(a.unsubscribe.bind(a)),a.unsubscribe=o.unsubscribe.bind(o))),o._context=a,o._next=i,o._error=n,o._complete=s,o}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=u.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):p(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;p(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;p(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(p(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(m);function q(t,e){return function(r){return r.lift(new w(t,e))}}var w=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new v(t,this.predicate,this.thisArg))},t}(),v=function(t){function e(e,r,n){var s=t.call(this,e)||this;return s.predicate=r,s.thisArg=n,s.count=0,s}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(m);function x(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}x.prototype=Object.create(Error.prototype);var S=x;var M="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(){}function k(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:A}var O=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,s=function(t,e,r){if(t){if(t instanceof m)return t;if(t[f])return t[f]()}return t||e||r?new m(t,e,r):new m(d)}(t,e,r);if(n?s.add(n.call(s,this.source)):s.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,s=e.isStopped;if(r||s)return!1;t=n&&n instanceof m?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=E(e))(function(e,n){var s;s=r.subscribe(function(e){try{t(e)}catch(t){n(t),s&&s.unsubscribe()}},n,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[M]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:k(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=E(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function E(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var R=new O(function(t){return t.complete()});function $(t){return t?function(t){return new O(function(e){return t.schedule(function(){return e.complete()})})}(t):R}var j=function(){function t(t){if(this.total=t,this.total<0)throw new S}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.total))},t}(),D=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return o(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(m);var P=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new T(t,this.defaultValue))},t}(),T=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return o(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(m);var C=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new F(t,this.errorFactory))},t}(),F=function(t){function e(e,r){var n=t.call(this,e)||this;return n.errorFactory=r,n.hasValue=!1,n}return o(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(m);function H(){return new s}function U(t){return t}function B(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?q(function(e,r){return t(e,r,n)}):U,(i=1,function(t){return 0===i?$():t.lift(new j(i))}),r?function(t){return void 0===t&&(t=null),function(e){return e.lift(new P(t))}}(e):function(t){return void 0===t&&(t=H),function(e){return e.lift(new C(t))}}(function(){return new s}));var i}}function I(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}I.prototype=Object.create(Error.prototype);var N=I,z=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(y),L=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return o(e,t),e}(m),Y=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[f]=function(){return new L(this)},e.prototype.lift=function(t){var e=new V(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new N;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),s=0;s<r;s++)n[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),s=0;s<r;s++)n[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new N;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new N;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new N;return this.hasError?(t.error(this.thrownError),y.EMPTY):this.isStopped?(t.complete(),y.EMPTY):(this.observers.push(t),new z(this,t))},e.prototype.asObservable=function(){var t=new O;return t.source=this,t},e.create=function(t,e){return new V(t,e)},e}(O),V=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):y.EMPTY},e}(Y);function J(){return function(t){return t.lift(new W(t))}}var W=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new K(t,r),s=e.subscribe(n);return n.closed||(n.connection=r.connect()),s},t}(),K=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return o(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(m),G=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return o(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new y).add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=y.EMPTY)),t},e.prototype.refCount=function(){return J()(this)},e}(O).prototype,Z={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:G._subscribe},_isComplete:{value:G._isComplete,writable:!0},getSubject:{value:G.getSubject},connect:{value:G.connect},refCount:{value:G.refCount}},Q=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return o(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(L);var X=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),s=r(n).subscribe(t);return s.add(e.subscribe(n)),s},t}();function tt(){return new Y}function et(){return function(t){return J()((e=tt,function(t){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof r)return t.lift(new X(n,r));var s=Object.create(t,Z);return s.source=t,s.subjectFactory=n,s})(t));var e,r}}class rt{accountClosure(t={}){const e={method:"account_closure",needsMethodArg:"1",args:t,config:{account_closure:{required:1,type:"numeric"},passthrough:{},reason:{required:1,type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}accountSecurity(t={}){const e={method:"account_security",needsMethodArg:"1",args:t,config:{account_security:{required:1,type:"numeric"},otp:{type:"string"},passthrough:{},req_id:{type:"numeric"},totp_action:{}}};return this.processRequest(e)}accountStatistics(t={}){const e={method:"account_statistics",needsMethodArg:"1",args:t,config:{account_statistics:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}activeSymbols(t={}){const e={method:"active_symbols",needsMethodArg:"1",args:t,config:{active_symbols:{required:1},landing_company:{},passthrough:{},product_type:{},req_id:{type:"numeric"}}};return this.processRequest(e)}apiToken(t={}){const e={method:"api_token",needsMethodArg:"1",args:t,config:{api_token:{required:1,type:"numeric"},delete_token:{type:"string"},new_token:{type:"string"},new_token_scopes:{},passthrough:{},req_id:{type:"numeric"},valid_for_current_ip_only:{type:"numeric"}}};return this.processRequest(e)}appDelete(t={}){const e={method:"app_delete",needsMethodArg:"1",args:t,config:{app_delete:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}appGet(t={}){const e={method:"app_get",needsMethodArg:"1",args:t,config:{app_get:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}appList(t={}){const e={method:"app_list",needsMethodArg:"1",args:t,config:{app_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}appMarkupDetails(t={}){const e={method:"app_markup_details",needsMethodArg:"1",args:t,config:{app_id:{type:"numeric"},app_markup_details:{required:1,type:"numeric"},client_loginid:{type:"string"},date_from:{required:1,type:"string"},date_to:{required:1,type:"string"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},sort:{type:"string"},sort_fields:{}}};return this.processRequest(e)}appRegister(t={}){const e={method:"app_register",needsMethodArg:"1",args:t,config:{app_markup_percentage:{type:"numeric"},app_register:{required:1,type:"numeric"},appstore:{type:"string"},github:{type:"string"},googleplay:{type:"string"},homepage:{type:"string"},name:{required:1,type:"string"},passthrough:{},redirect_uri:{required:1,type:"string"},req_id:{type:"numeric"},scopes:{required:1},verification_uri:{type:"string"}}};return this.processRequest(e)}appUpdate(t={}){const e={method:"app_update",needsMethodArg:"1",args:t,config:{app_markup_percentage:{type:"numeric"},app_update:{required:1,type:"numeric"},appstore:{type:"string"},github:{type:"string"},googleplay:{type:"string"},homepage:{type:"string"},name:{required:1,type:"string"},passthrough:{},redirect_uri:{required:1,type:"string"},req_id:{type:"numeric"},scopes:{required:1},verification_uri:{type:"string"}}};return this.processRequest(e)}assetIndex(t={}){const e={method:"asset_index",needsMethodArg:"1",args:t,config:{asset_index:{required:1,type:"numeric"},landing_company:{},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}authorize(t={}){const e={method:"authorize",needsMethodArg:"1",args:t,config:{add_to_login_history:{},authorize:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}balance(t={}){const e={method:"balance",needsMethodArg:"1",args:t,config:{balance:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},subscribe:{}}};return this.processRequest(e)}buy(t={}){const e={method:"buy",needsMethodArg:"1",args:t,config:{buy:{required:1,type:"string"},parameters:{amount:{type:"numeric"},app_markup_percentage:{type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},basis:{},contract_type:{required:1,type:"string"},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{},product_type:{type:"string"},selected_tick:{type:"numeric"},symbol:{required:1,type:"string"},trading_period_start:{type:"numeric"}},passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},subscribe:{}}};return this.processRequest(e)}buyContractForMultipleAccounts(t={}){const e={method:"buy_contract_for_multiple_accounts",needsMethodArg:"1",args:t,config:{buy_contract_for_multiple_accounts:{required:1,type:"string"},parameters:{amount:{type:"numeric"},app_markup_percentage:{type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},basis:{},contract_type:{required:1,type:"string"},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{},selected_tick:{type:"numeric"},symbol:{required:1,type:"string"}},passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},tokens:{required:1}}};return this.processRequest(e)}cashier(t={}){const e={method:"cashier",needsMethodArg:"1",args:t,config:{cashier:{required:1},passthrough:{},provider:{},req_id:{type:"numeric"},verification_code:{type:"string"}}};return this.processRequest(e)}cashierPassword(t={}){const e={method:"cashier_password",needsMethodArg:"1",args:t,config:{cashier_password:{required:1,type:"numeric"},lock_password:{type:"string"},passthrough:{},req_id:{type:"numeric"},unlock_password:{type:"string"}}};return this.processRequest(e)}changePassword(t={}){const e={method:"change_password",needsMethodArg:"1",args:t,config:{change_password:{required:1,type:"numeric"},new_password:{required:1,type:"string"},old_password:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}contractsFor(t={}){const e={method:"contracts_for",needsMethodArg:"1",args:t,config:{contracts_for:{required:1,type:"string"},currency:{type:"string"},landing_company:{},passthrough:{},product_type:{},req_id:{type:"numeric"}}};return this.processRequest(e)}copyStart(t={}){const e={method:"copy_start",needsMethodArg:"1",args:t,config:{assets:{},copy_start:{required:1,type:"string"},max_trade_stake:{type:"numeric"},min_trade_stake:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},trade_types:{}}};return this.processRequest(e)}copyStop(t={}){const e={method:"copy_stop",needsMethodArg:"1",args:t,config:{copy_stop:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}copytradingList(t={}){const e={method:"copytrading_list",needsMethodArg:"1",args:t,config:{copytrading_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}copytradingStatistics(t={}){const e={method:"copytrading_statistics",needsMethodArg:"1",args:t,config:{copytrading_statistics:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},trader_id:{required:1,type:"string"}}};return this.processRequest(e)}documentUpload(t={}){const e={method:"document_upload",needsMethodArg:"1",args:t,config:{document_format:{required:1},document_id:{type:"string"},document_type:{required:1,type:"string"},document_upload:{required:1,type:"numeric"},expected_checksum:{required:1,type:"string"},expiration_date:{type:"string"},file_size:{required:1,type:"numeric"},page_type:{},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}exchangeRates(t={}){const e={method:"exchange_rates",needsMethodArg:"1",args:t,config:{base_currency:{required:1,type:"string"},exchange_rates:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}forget(t={}){const e={method:"forget",needsMethodArg:"1",args:t,config:{forget:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}forgetAll(t={}){const e={method:"forget_all",needsMethodArg:"1",args:t,config:{forget_all:{required:1},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}getAccountStatus(t={}){const e={method:"get_account_status",needsMethodArg:"1",args:t,config:{get_account_status:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}getFinancialAssessment(t={}){const e={method:"get_financial_assessment",needsMethodArg:"1",args:t,config:{get_financial_assessment:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}getLimits(t={}){const e={method:"get_limits",needsMethodArg:"1",args:t,config:{get_limits:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}getSelfExclusion(t={}){const e={method:"get_self_exclusion",needsMethodArg:"1",args:t,config:{get_self_exclusion:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}getSettings(t={}){const e={method:"get_settings",needsMethodArg:"1",args:t,config:{get_settings:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}landingCompany(t={}){const e={method:"landing_company",needsMethodArg:"1",args:t,config:{landing_company:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}landingCompanyDetails(t={}){const e={method:"landing_company_details",needsMethodArg:"1",args:t,config:{landing_company_details:{required:1},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}loginHistory(t={}){const e={method:"login_history",needsMethodArg:"1",args:t,config:{limit:{type:"numeric"},login_history:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}logout(t={}){const e={method:"logout",needsMethodArg:"1",args:t,config:{logout:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}mt5Deposit(t={}){const e={method:"mt5_deposit",needsMethodArg:"1",args:t,config:{amount:{type:"numeric"},from_binary:{type:"string"},mt5_deposit:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},to_mt5:{required:1,type:"string"}}};return this.processRequest(e)}mt5GetSettings(t={}){const e={method:"mt5_get_settings",needsMethodArg:"1",args:t,config:{login:{required:1,type:"string"},mt5_get_settings:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}mt5LoginList(t={}){const e={method:"mt5_login_list",needsMethodArg:"1",args:t,config:{mt5_login_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}mt5Mamm(t={}){const e={method:"mt5_mamm",needsMethodArg:"1",args:t,config:{action:{},login:{required:1,type:"string"},mt5_mamm:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}mt5NewAccount(t={}){const e={method:"mt5_new_account",needsMethodArg:"1",args:t,config:{account_type:{required:1},address:{type:"string"},city:{type:"string"},company:{type:"string"},country:{type:"string"},email:{required:1,type:"string"},investPassword:{required:1,type:"string"},leverage:{required:1,type:"string"},mainPassword:{required:1,type:"string"},manager_id:{type:"numeric"},mt5_account_type:{},mt5_new_account:{required:1,type:"numeric"},name:{required:1,type:"string"},passthrough:{},phone:{type:"string"},phonePassword:{type:"string"},req_id:{type:"numeric"},state:{type:"string"},zipCode:{type:"string"}}};return this.processRequest(e)}mt5PasswordChange(t={}){const e={method:"mt5_password_change",needsMethodArg:"1",args:t,config:{login:{required:1,type:"string"},mt5_password_change:{required:1,type:"numeric"},new_password:{required:1,type:"string"},old_password:{required:1,type:"string"},passthrough:{},password_type:{},req_id:{type:"numeric"}}};return this.processRequest(e)}mt5PasswordCheck(t={}){const e={method:"mt5_password_check",needsMethodArg:"1",args:t,config:{login:{required:1,type:"string"},mt5_password_check:{required:1,type:"numeric"},passthrough:{},password:{required:1,type:"string"},password_type:{},req_id:{type:"numeric"}}};return this.processRequest(e)}mt5PasswordReset(t={}){const e={method:"mt5_password_reset",needsMethodArg:"1",args:t,config:{login:{required:1,type:"string"},mt5_password_reset:{required:1,type:"numeric"},new_password:{required:1,type:"string"},passthrough:{},password_type:{type:"string"},req_id:{type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}mt5Withdrawal(t={}){const e={method:"mt5_withdrawal",needsMethodArg:"1",args:t,config:{amount:{required:1,type:"numeric"},from_mt5:{required:1,type:"string"},mt5_withdrawal:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},to_binary:{required:1,type:"string"}}};return this.processRequest(e)}newAccountMaltainvest(t={}){const e={method:"new_account_maltainvest",needsMethodArg:"1",args:t,config:{accept_risk:{required:1,type:"numeric"},account_opening_reason:{type:"string"},account_turnover:{},address_city:{required:1,type:"string"},address_line_1:{required:1,type:"string"},address_line_2:{type:"string"},address_postcode:{type:"string"},address_state:{type:"string"},affiliate_token:{type:"string"},binary_options_trading_experience:{},binary_options_trading_frequency:{},cfd_trading_experience:{},cfd_trading_frequency:{},citizen:{type:"string"},client_type:{},date_of_birth:{required:1,type:"string"},education_level:{required:1},employment_industry:{required:1},employment_status:{},estimated_worth:{required:1},first_name:{required:1,type:"string"},forex_trading_experience:{},forex_trading_frequency:{},income_source:{required:1},last_name:{required:1,type:"string"},net_income:{required:1},new_account_maltainvest:{required:1,type:"numeric"},occupation:{required:1},other_instruments_trading_experience:{},other_instruments_trading_frequency:{},passthrough:{},phone:{required:1,type:"string"},place_of_birth:{required:1,type:"string"},req_id:{type:"numeric"},residence:{required:1,type:"string"},salutation:{required:1},secret_answer:{type:"string"},secret_question:{},source_of_wealth:{},tax_identification_number:{required:1,type:"string"},tax_residence:{required:1,type:"string"}}};return this.processRequest(e)}newAccountReal(t={}){const e={method:"new_account_real",needsMethodArg:"1",args:t,config:{account_opening_reason:{type:"string"},account_turnover:{},address_city:{type:"string"},address_line_1:{type:"string"},address_line_2:{type:"string"},address_postcode:{type:"string"},address_state:{type:"string"},affiliate_token:{type:"string"},citizen:{},client_type:{},currency:{},date_of_birth:{required:1,type:"string"},first_name:{required:1,type:"string"},last_name:{required:1,type:"string"},new_account_real:{required:1,type:"numeric"},passthrough:{},phone:{type:"string"},place_of_birth:{type:"string"},req_id:{type:"numeric"},residence:{required:1,type:"string"},salutation:{required:1},secret_answer:{type:"string"},secret_question:{},tax_identification_number:{type:"string"},tax_residence:{type:"string"}}};return this.processRequest(e)}newAccountVirtual(t={}){const e={method:"new_account_virtual",needsMethodArg:"1",args:t,config:{affiliate_token:{type:"string"},client_password:{required:1,type:"string"},date_first_contact:{type:"string"},gclid_url:{type:"string"},new_account_virtual:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},residence:{required:1,type:"string"},signup_device:{},utm_campaign:{type:"string"},utm_medium:{type:"string"},utm_source:{type:"string"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}notificationEvent(t={}){const e={method:"notification_event",needsMethodArg:"1",args:t,config:{category:{required:1,type:"string"},event:{required:1,type:"string"},notification_event:{required:1,type:"numeric"},passthrough:{}}};return this.processRequest(e)}oauthApps(t={}){const e={method:"oauth_apps",needsMethodArg:"1",args:t,config:{oauth_apps:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}paymentagentList(t={}){const e={method:"paymentagent_list",needsMethodArg:"1",args:t,config:{currency:{type:"string"},passthrough:{},paymentagent_list:{required:1,type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}paymentagentTransfer(t={}){const e={method:"paymentagent_transfer",needsMethodArg:"1",args:t,config:{amount:{required:1,type:"numeric"},currency:{required:1,type:"string"},description:{type:"string"},dry_run:{type:"numeric"},passthrough:{},paymentagent_transfer:{required:1,type:"numeric"},req_id:{type:"numeric"},transfer_to:{required:1,type:"string"}}};return this.processRequest(e)}paymentagentWithdraw(t={}){const e={method:"paymentagent_withdraw",needsMethodArg:"1",args:t,config:{amount:{required:1,type:"numeric"},currency:{required:1,type:"string"},description:{type:"string"},dry_run:{type:"numeric"},passthrough:{},paymentagent_loginid:{required:1,type:"string"},paymentagent_withdraw:{required:1,type:"numeric"},req_id:{type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}payoutCurrencies(t={}){const e={method:"payout_currencies",needsMethodArg:"1",args:t,config:{passthrough:{},payout_currencies:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}ping(t={}){const e={method:"ping",needsMethodArg:"1",args:t,config:{passthrough:{},ping:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}portfolio(t={}){const e={method:"portfolio",needsMethodArg:"1",args:t,config:{passthrough:{},portfolio:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}profitTable(t={}){const e={method:"profit_table",needsMethodArg:"1",args:t,config:{date_from:{type:"string"},date_to:{type:"string"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},profit_table:{required:1,type:"numeric"},req_id:{type:"numeric"},sort:{type:"string"}}};return this.processRequest(e)}proposal(t={}){const e={method:"proposal",needsMethodArg:"1",args:t,config:{amount:{required:1,type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},basis:{required:1},contract_type:{required:1},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{},passthrough:{},product_type:{},proposal:{required:1,type:"numeric"},req_id:{type:"numeric"},selected_tick:{type:"numeric"},subscribe:{},symbol:{required:1,type:"string"},trading_period_start:{type:"numeric"}}};return this.processRequest(e)}proposalArray(t={}){const e={method:"proposal_array",needsMethodArg:"1",args:t,config:{amount:{required:1,type:"numeric"},barriers:{required:1},basis:{required:1},contract_type:{required:1},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{},passthrough:{},product_type:{},proposal_array:{required:1,type:"numeric"},req_id:{type:"numeric"},subscribe:{},symbol:{required:1,type:"string"},trading_period_start:{type:"numeric"}}};return this.processRequest(e)}proposalOpenContract(t={}){const e={method:"proposal_open_contract",needsMethodArg:"1",args:t,config:{contract_id:{type:"numeric"},passthrough:{},proposal_open_contract:{required:1},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}realityCheck(t={}){const e={method:"reality_check",needsMethodArg:"1",args:t,config:{passthrough:{},reality_check:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}requestReport(t={}){const e={method:"request_report",needsMethodArg:"1",args:t,config:{date_from:{required:1,type:"numeric"},date_to:{required:1,type:"numeric"},passthrough:{},report_type:{required:1,type:"string"},req_id:{type:"numeric"},request_report:{required:1,type:"numeric"}}};return this.processRequest(e)}resetPassword(t={}){const e={method:"reset_password",needsMethodArg:"1",args:t,config:{date_of_birth:{type:"string"},new_password:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"},reset_password:{required:1,type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}residenceList(t={}){const e={method:"residence_list",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},residence_list:{required:1,type:"numeric"}}};return this.processRequest(e)}revokeOauthApp(t={}){const e={method:"revoke_oauth_app",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},revoke_oauth_app:{required:1,type:"numeric"}}};return this.processRequest(e)}sell(t={}){const e={method:"sell",needsMethodArg:"1",args:t,config:{passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},sell:{required:1,type:"numeric"}}};return this.processRequest(e)}sellContractForMultipleAccounts(t={}){const e={method:"sell_contract_for_multiple_accounts",needsMethodArg:"1",args:t,config:{passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},sell_contract_for_multiple_accounts:{required:1,type:"numeric"},shortcode:{required:1,type:"string"},tokens:{required:1}}};return this.processRequest(e)}sellExpired(t={}){const e={method:"sell_expired",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},sell_expired:{required:1,type:"numeric"}}};return this.processRequest(e)}serviceToken(t={}){const e={method:"service_token",needsMethodArg:"1",args:t,config:{passthrough:{},referrer:{type:"string"},req_id:{type:"numeric"},service:{required:1,type:"string"},service_token:{required:1,type:"numeric"}}};return this.processRequest(e)}setAccountCurrency(t={}){const e={method:"set_account_currency",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},set_account_currency:{required:1}}};return this.processRequest(e)}setFinancialAssessment(t={}){const e={method:"set_financial_assessment",needsMethodArg:"1",args:t,config:{account_turnover:{},binary_options_trading_experience:{},binary_options_trading_frequency:{},cfd_trading_experience:{},cfd_trading_frequency:{},education_level:{required:1},employment_industry:{required:1},employment_status:{},estimated_worth:{required:1},forex_trading_experience:{},forex_trading_frequency:{},income_source:{required:1},net_income:{required:1},occupation:{required:1},other_instruments_trading_experience:{},other_instruments_trading_frequency:{},passthrough:{},req_id:{type:"numeric"},set_financial_assessment:{required:1,type:"numeric"},source_of_wealth:{}}};return this.processRequest(e)}setSelfExclusion(t={}){const e={method:"set_self_exclusion",needsMethodArg:"1",args:t,config:{exclude_until:{},max_30day_losses:{},max_30day_turnover:{},max_7day_losses:{},max_7day_turnover:{},max_balance:{},max_deposit:{},max_deposit_end_date:{},max_losses:{},max_open_bets:{},max_turnover:{},passthrough:{},req_id:{type:"numeric"},session_duration_limit:{},set_self_exclusion:{required:1,type:"numeric"},timeout_until:{}}};return this.processRequest(e)}setSettings(t={}){const e={method:"set_settings",needsMethodArg:"1",args:t,config:{account_opening_reason:{type:"string"},address_city:{type:"string"},address_line_1:{type:"string"},address_line_2:{},address_postcode:{type:"string"},address_state:{type:"string"},allow_copiers:{type:"numeric"},citizen:{},date_of_birth:{type:"string"},email_consent:{type:"numeric"},first_name:{type:"string"},last_name:{type:"string"},passthrough:{},phone:{},place_of_birth:{type:"string"},req_id:{type:"numeric"},request_professional_status:{type:"numeric"},residence:{},salutation:{},secret_answer:{type:"string"},secret_question:{},set_settings:{required:1,type:"numeric"},tax_identification_number:{type:"string"},tax_residence:{type:"string"}}};return this.processRequest(e)}statement(t={}){const e={method:"statement",needsMethodArg:"1",args:t,config:{action_type:{type:"string"},date_from:{type:"numeric"},date_to:{type:"numeric"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},statement:{required:1,type:"numeric"}}};return this.processRequest(e)}statesList(t={}){const e={method:"states_list",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},states_list:{required:1,type:"string"}}};return this.processRequest(e)}ticks(t={}){const e={method:"ticks",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},subscribe:{},ticks:{required:1}}};return this.processRequest(e)}ticksHistory(t={}){const e={method:"ticks_history",needsMethodArg:"1",args:t,config:{adjust_start_time:{type:"numeric"},count:{type:"numeric"},end:{required:1,type:"string"},granularity:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},start:{type:"numeric"},style:{},subscribe:{},ticks_history:{required:1,type:"string"}}};return this.processRequest(e)}time(t={}){const e={method:"time",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},time:{required:1,type:"numeric"}}};return this.processRequest(e)}tncApproval(t={}){const e={method:"tnc_approval",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},tnc_approval:{required:1,type:"numeric"},ukgc_funds_protection:{type:"numeric"}}};return this.processRequest(e)}topupVirtual(t={}){const e={method:"topup_virtual",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},topup_virtual:{required:1,type:"numeric"}}};return this.processRequest(e)}tradingDurations(t={}){const e={method:"trading_durations",needsMethodArg:"1",args:t,config:{landing_company:{},passthrough:{},req_id:{type:"numeric"},trading_durations:{required:1,type:"numeric"}}};return this.processRequest(e)}tradingTimes(t={}){const e={method:"trading_times",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},trading_times:{required:1,type:"string"}}};return this.processRequest(e)}transaction(t={}){const e={method:"transaction",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},subscribe:{required:1,type:"numeric"},transaction:{required:1}}};return this.processRequest(e)}transferBetweenAccounts(t={}){const e={method:"transfer_between_accounts",needsMethodArg:"1",args:t,config:{account_from:{type:"string"},account_to:{type:"string"},accounts:{},amount:{type:"numeric"},currency:{type:"string"},passthrough:{},req_id:{type:"numeric"},transfer_between_accounts:{required:1,type:"numeric"}}};return this.processRequest(e)}verifyEmail(t={}){const e={method:"verify_email",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},type:{required:1},url_parameters:{affiliate_token:{type:"string"},date_first_contact:{type:"string"},gclid_url:{type:"string"},signup_device:{},utm_campaign:{type:"string"},utm_medium:{type:"string"},utm_source:{type:"string"}},verify_email:{required:1,type:"string"}}};return this.processRequest(e)}websiteStatus(t={}){const e={method:"website_status",needsMethodArg:"1",args:t,config:{passthrough:{},req_id:{type:"numeric"},subscribe:{},website_status:{required:1}}};return this.processRequest(e)}processRequest(t){const{config:e}=t,r=function({config:t,args:e,method:r,needsMethodArg:n}){let s=e;n&&!nt(s)&&(s={[r]:s});return s[r]=s[r]||1,Object.keys(s).forEach(e=>{const r=s[e];e in t&&("string"===t[e].type?s[e]=`${r}`:"numeric"===t[e].type?s[e]=parseInt(r,10):"boolean"===t[e].type&&(s[e]=+r))}),s}(t),n=function({config:t,args:e}){if(!nt(e))return`Requires an object but a ${typeof e} is passed.`;const r=[],n=Object.keys(t).filter(r=>(t[r]||{}).required&&!(r in e));n.length&&r.push(`Required parameters missing: ${n.join(", ")}`);return Object.keys(e).forEach(n=>{const s=e[n];if(!(n in t))return;const i=t[n].type;i&&(st[i](s)||r.push(`${i} value expected but found ${typeof s}: ${n}`))}),r.length?r.join(" - "):""}({config:e,args:r});return n?Promise.reject(n):this.send(r)}}const nt=t=>t instanceof Object,st={object:nt,numeric:t=>!Number.isNaN(1*t),string:t=>"string"==typeof t,boolean:t=>[!0,!1,0,1].includes(t)};function it(t){return class extends Error{constructor(e){super(),this.type=t,this.message=e}toString(){return`${this.type}: ${this.message}`}}}class ot extends(it("APIError")){}class ct extends(it("ConstructionError")){}var at=r(2),ut=r.n(at);function pt(t){const e={...t};return delete e.req_id,delete e.passthrough,delete e.subscribe,ut()(e)}class dt extends rt{constructor(t,e){if(!t)throw new ct("Cache object needs an API to work");super(),this.api=t,this.storage=e}async send(t){if(await this.has(t))return this.get(t);const e=await this.api.send(t);return await this.set(t,e),e}async has(t){return this.storage.has(pt(t))}async get(t){return this.storage.get(pt(t))}async getByMsgType(t){return this.storage.getByMsgType(t)}async set(t,e){return this.storage.set(pt(t),e)}}class ht extends Promise{constructor(t=(()=>{})){let e,r;super((t,n)=>{e=t,r=n}),t(e,r),this.resolveCallback=e,this.rejectCallback=r,this.state="pending"}static wrap(t){if(t instanceof this)return t;const e=new this;return t.then(e.resolve.bind(e),e.reject.bind(e)),e}resolve(t){return this.resolveCallback(t),this.state="resolved",this}reject(t){return this.rejectCallback(t),this.state="rejected",this}isPending(){return"pending"===this.state}isRejected(){return"rejected"===this.state}isResolved(){return"resolved"===this.state}}class _t{constructor(){this.store={by_msg_type:{}}}has(t){return t in this.store}get(t){return this.store[t]}getByMsgType(t){return this.store.by_msg_type[t]}set(t,e){this.store.by_msg_type[e.msg_type]=e,this.store[t]=e}}var lt=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new yt(t,this.callback))},t}(),yt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.add(new y(r)),n}return o(e,t),e}(m);class gt{constructor(t){this.api=t,this.sources={},this.subs_id_to_key={},this.key_to_subs_id={},this.buy_key_to_contract_id={},this.subs_ids_per_msg_type=[]}subscribe(t){return this.sourceExists(t)?this.getSource(t):this.createNewSource({...t,subscribe:1})}getSource(t){const e=ft(t);if(e in this.sources)return this.sources[e];if(t.proposal_open_contract&&t.contract_id){const e=Object.values(this.buy_key_to_contract_id).find(e=>e.contract_id===t.contract_id);if(e)return this.sources[e.buy_key]}}sourceExists(t){return this.getSource(t)}createNewSource(t){const e=ft(t),r=this.api.sendAndGetSource(t).pipe((n=()=>{e in this.key_to_subs_id&&this.forget(this.key_to_subs_id[e]).then(()=>{},()=>{})},function(t){return t.lift(new lt(n))}),et());var n;return this.sources[e]=r,r.pipe(B()).toPromise().then(r=>{t.buy&&(this.buy_key_to_contract_id[e]={contract_id:r.buy.contract_id,buy_key:e}),this.saveSubsId(e,r)},this.removeKeyOnError(e)),r}forget(t){return this.completeSubsByIds(t),this.api.send({forget:t})}forgetAll(...t){const e=[];return t.forEach(t=>e.push(...this.subs_ids_per_msg_type[t]||[])),this.completeSubsByIds(...e),this.api.send({forget_all:t})}completeSubsByIds(...t){t.forEach(t=>{const e=this.subs_id_to_key[t];delete this.subs_id_to_key[t],this.completeSubsByKey(e)})}saveSubsId(t,{subscription:e,msg_type:r}){if(!e)return this.completeSubsByKey(t);const{id:n}=e;n in this.subs_id_to_key||(this.subs_id_to_key[n]=t,this.key_to_subs_id[t]=n,this.subs_ids_per_msg_type[r]=this.subs_ids_per_msg_type[r]||[],this.subs_ids_per_msg_type[r].push(n))}removeKeyOnError(t){return()=>this.completeSubsByKey(t)}completeSubsByKey(t){if(!t)return;const e=this.sources[t];delete this.sources[t];const r=this.key_to_subs_id[t];delete this.subs_id_to_key[r],delete this.key_to_subs_id[t],delete this.buy_key_to_contract_id[t],e.complete()}}function ft(t){return pt(t)}class mt extends rt{constructor({storage:t,app_id:e,connection:r,cache:n=new _t,endpoint:s="frontend.binaryws.com",lang:i="EN",brand:o="",middleware:c={}}={}){if(super(),this.events=new Y,r)this.connection=r;else{if(!e)throw Error("An app_id is required to connect to the API");this.shouldReconnect=!0,this.connectionArgs={app_id:e,endpointUrl:bt(s),lang:i.toUpperCase(),brand:o.toLowerCase()},this.connect()}this.lang=i,this.reqId=0,this.connected=new ht,this.sanityErrors=new Y,this.middleware=c,this.pendingRequests={},this.expect_response_types={},this.subscription_manager=new gt(this),t&&(this.storage=new dt(this,t)),this.cache=new dt(this.storage?this.storage:this,n),this.connection.onopen=this.openHandler.bind(this),this.connection.onclose=this.closeHandler.bind(this),this.connection.onmessage=this.messageHandler.bind(this)}connect(){if(!this.connectionArgs)throw new ct("Connection arguments are required to create a connection.");this.events.next({name:"connect"});const{endpointUrl:t,lang:e,app_id:r,brand:n}=this.connectionArgs;this.connection=new WebSocket(`${t.toString()}websockets/v3?app_id=${r}&l=${e}&brand=${n}`)}disconnect(){this.shouldReconnect=!1,this.connection.close()}sendAndGetSource(t){const e=new Y;return t.req_id=t.req_id||++this.reqId,this.pendingRequests[t.req_id]=e,this.connected.then(()=>{this.connection.send(JSON.stringify(t))}).catch(t=>e.error(t)),e}async send(...t){const e=this.callMiddleware("sendWillBeCalled",{args:t});if(e)return e;const[r]=t;this.events.next({name:"send",data:r});const n=this.sendAndGetSource(r).pipe(B()).toPromise();n.then(t=>{this.cache.set(r,t),this.storage&&this.storage.set(r,t)},()=>{});const s=this.callMiddleware("sendIsCalled",{response_promise:n,args:t});return s||n}callMiddleware(t,e){if(t in this.middleware)return this.middleware[t](e)}subscribe(t){return this.subscription_manager.subscribe(t)}async forget(t){return this.subscription_manager.forget(t)}async forgetAll(...t){return this.subscription_manager.forgetAll(...t)}openHandler(){this.events.next({name:"open"}),1===this.connection.readyState?this.connected.resolve():setTimeout(this.openHandler.bind(this),50)}messageHandler(t){if(!t.data)return void this.sanityErrors.next(new ot("Something went wrong while receiving the response from API."));const e=JSON.parse(t.data);this.events.next({name:"message",data:e});const r=e.req_id;if(r in this.pendingRequests){const t=this.expect_response_types[e.msg_type];t&&t.isPending()&&t.resolve(e),e.error?this.pendingRequests[r].error(e):this.pendingRequests[r].next(e)}else this.sanityErrors.next(new ot("Extra response"))}closeHandler(){this.events.next({name:"close"}),this.shouldReconnect&&(this.events.next({name:"reconnecting"}),this.connect())}onClose(){return this.events.pipe(q(t=>"close"===t.name),et())}onOpen(){return this.events.pipe(q(t=>"open"===t.name),et())}onMessage(){return this.events.pipe(q(t=>"message"===t.name),et())}async expectResponse(...t){return t.forEach(t=>{t in this.expect_response_types||(this.expect_response_types[t]=function(t){return ht.wrap(t.then(t=>t||new ht))}(this.cache.getByMsgType(t).then(e=>!e&&this.storage?this.storage.getByMsgType(t):e)))}),1===t.length?this.expect_response_types[t[0]]:Promise.all(t.map(t=>this.expect_response_types[t]))}}function bt(t){if("string"!=typeof t)throw new ct(`Endpoint must be a string, passed: ${typeof t}`);let e;try{const[r,n,s]=t.match(/((?:\w*:\/\/)*)(.*)/);e=new URL(`${"ws://"===n?n:"wss://"}${s}`)}catch(e){throw new ct(`Invalid URL: ${t}`)}return e}class qt{constructor(t={}){return Object.keys(t).forEach(e=>{this[e]=t[e]}),this._data={},new Proxy(Object.freeze(this),{get:(t,e)=>e in t?t[e]:t._data[e]})}async init(){return this}}class wt extends qt{constructor(t,e){super({short:t,full:e})}get code(){return this.short}get shortcode(){return this.short}get long(){return this.full}}function vt(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new xt(t,e))}}var xt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new St(t,this.project,this.thisArg))},t}(),St=function(t){function e(e,r,n){var s=t.call(this,e)||this;return s.project=r,s.count=0,s.thisArg=n||s,s}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(m);function Mt(t){return t.toString().length>=13}const At={end:"latest",count:1e3};function kt(t={}){let e={};return"string"==typeof t?(e.symbol=t,e.range=At):((e={...t}).range={...At,...t.range},e.symbol=t.symbol),e}function Ot(t){return Mt(t)?Math.floor(t/1e3):t}function Et(t){return t?t instanceof Date?Ot(t.getTime()):Ot(t):t}function Rt({start:t,end:e,count:r}={}){const n={};return r&&(n.count=r),t&&(n.start=Et(t)),e&&(n.end=Et(e)),n}function $t(t,e){const r={...t};return Object.keys(r).forEach(t=>{if(t in e){const n=delete r[t];r[e[t]]=n}}),r}function jt(t){return Math.abs(Math.log10(t))}const Dt={BTC:{maximumFractionDigits:8,minimumFractionDigits:8},ETH:{maximumFractionDigits:8,minimumFractionDigits:8},LTC:{maximumFractionDigits:8,minimumFractionDigits:8},UST:{maximumFractionDigits:8,minimumFractionDigits:8},default:{maximumFractionDigits:2,minimumFractionDigits:2}};class Pt extends qt{constructor(t,e,r){super(),this._data.value=+t,this._data.currency=e,this._data.lang=r}get display(){return function(t,e,r){const n=e in Dt?Dt[e]:Dt.default;return"undefined"==typeof Intl?t.toFixed(n.maximumFractionDigits):new Intl.NumberFormat(r,{...n,currency:e}).format(t)}(this._data.value,this._data.currency,this._data.lang)}get format(){return this._data.display}}class Tt extends qt{constructor(t){super({on_update:new Y,before_update:new Y,...t})}onUpdate(t,e){return t&&this.on_update.subscribe(t,e||(()=>{})),this.on_update}beforeUpdate(t,e){return t&&this.before_update.subscribe(t,e||(()=>{})),this.before_update}next(t){this.before_update.next(t),this.on_update.next(t)}error(t){this.before_update.error(t),this.on_update.error(t)}addSource(t){t.subscribe(t=>this.next(t),this.error.bind(this))}}class Ct extends Tt{constructor(t){super({api:t})}async init(t){this._data.amount=Ft({balance:t},this.api.basic.lang);const e=this.api.basic.subscribe({balance:1}).pipe(vt(t=>Ft(t,this.api.basic.lang)),et());this._data.amount=await e.pipe(B()).toPromise(),this.addSource(e),this.beforeUpdate(t=>{this._data.amount=t})}get value(){return this._data.amount.value}get currency(){return this._data.amount.currency}get display(){return this._data.amount.display}get format(){return this._data.amount.format}}function Ft({balance:{balance:t,currency:e}},r){return new Pt(t,e,r)}function Ht(t){return function(e){return e.lift(new Ut(t))}}var Ut=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Bt(t,this.total))},t}(),Bt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return o(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(m),It=r(3),Nt=r.n(It),zt=r(4),Lt=r.n(zt),Yt=r(1),Vt=r.n(Yt);Vt.a.extend(Lt.a),Vt.a.extend(Nt.a);class Jt extends qt{constructor(t){super(),this._data.internal=this.wrapDate(t)}isBefore(t){return this._data.internal.isBefore(this.wrapDate(t))}isSameOrAfter(t){return this._data.internal.isSameOrAfter(this.wrapDate(t))}isSameOrBefore(t){return this._data.internal.isSameOrBefore(this.wrapDate(t))}isAfter(t){return this._data.internal.isAfter(this.wrapDate(t))}isSame(t){return this._data.internal.isSame(this.wrapDate(t))}wrapDate(t){let e=t;if("number"==typeof(e="string"==typeof e?1*e:e))return Vt()(Mt(e)?e:1e3*e);if(e instanceof Date)return Vt()(e);if(e instanceof Vt.a)return e;if(e instanceof this.constructor)return e.internal;if(void 0===e)return Vt()();throw new Error(`Unknown date of type: ${typeof e} is given`)}addDuration(t){return this._data.internal.add(t.value,t.unit)}get epoch_milliseconds(){return this._data.internal.valueOf()}get epoch(){return this._data.internal.unix()}get date(){return this._data.internal.toDate()}}class Wt extends qt{constructor(t,e){super({pip:e}),this._data.value=+t}get pip_size(){return jt(this.pip)}get pip_sized(){return this._data.value.toFixed(this.pip_size)}get display(){return this.pip_sized}}class Kt extends qt{constructor(t,e,r){const{action:n,currency:s,amount:i,balance:o,high_barrier:c,low_barrier:a,barrier:u,longcode:p,symbol:d,display_name:h,transaction_id:_,contract_id:l,purchase_time:y,expiry_time:g,transaction_time:f}=t,m={raw:t};m.action=n,m.longcode=p,m.id=_,m.contract_id=l,m.symbol=new wt(d,h),m.amount=new Pt(i,s,r),m.balance=new Pt(o,s,r),c&&(m.high_barrier=new Wt(c,e)),a&&(m.low_barrier=new Wt(a,e)),u&&(m.barrier=new Wt(u,e)),y&&(m.purchase_time=new Jt(y)),g&&(m.expiry_time=new Jt(g)),f&&(m.time=new Jt(f)),super(m)}}const Gt=5e3,Zt={expiry_time:"date_expiry"};class Qt extends Tt{constructor(t){super({api:t})}async init(){this._data.active_symbols=(await this.api.basic.cache.activeSymbols("brief")).active_symbols;const t=this.api.basic.subscribe({transaction:1});this.addSource(t.pipe(Ht(1),vt(t=>(function({transaction:t},e,r){const{pip:n}=e.find(e=>e.symbol===t.symbol);return new Kt($t(t,Zt),n,r)})(t,this._data.active_symbols,this.api.basic.lang)),et())),this.beforeUpdate(t=>{this._data.list.length<Gt?this._data.list.push(t):this._data.list=[...this._data.list.slice(1),t]}),this._data.list=[]}}class Xt extends qt{constructor(t,e){super({api:t,token:e})}async init(){const{authorize:t}=await this.api.basic.authorize(this.token);["email","country","currency","loginid","user_id","fullname"].forEach(e=>{this._data[e]=t[e]}),this._data.status_codes=t.status,this._data.siblings=t.account_list,this._data.contracts=[];const{landing_company_name:e,landing_company_fullname:r}=t;this._data.landing_company=new wt(e,r);const{get_account_status:n}=await this.api.basic.getAccountStatus();this._data.risk=n.risk_classification,this._data.show_authentication=1==n.prompt_client_to_authenticate,this._data.status_codes=n.status,this._data.balance=new Ct(this.api);const{balance:s,currency:i}=t;this._data.balance.init({balance:s,currency:i}),this._data.transactions=new Qt(this.api),this._data.transactions.init()}}class te extends qt{async init(){return this}}class ee extends Wt{constructor(t,e){super(t,e);const r=this.wrapBarrier(t);Object.assign(this._data,r)}wrapBarrier(t){let e;return"string"==typeof t&&(e="+"===t[0]?1:"-"===t[0]?-1:0),{type:0===e?"absolute":"relative",is_relative:0!==e,value:+t,sign:e}}get pip_sized(){const t=this._data.value.toFixed(this.pip_size);return-1===this._data.sign?`-${t}`:1===this._data.sign?`+${t}`:t}}class re extends qt{constructor(t,e){super({min:new Jt(t),max:new Jt(e)})}}class ne extends qt{constructor(t){const[,e,r]=t.split(/(\d+)/);e&&r&&super({value:e,unit:r})}addToDate(t){return t.addDuration(this)}}class se extends qt{constructor(t,e){super({min:new ne(t),max:new ne(e)})}}class ie extends qt{constructor(t,e){super({api:t,symbol:e})}async init(){const{contracts_for:t}=await this.api.basic.cache.contractsFor(this.symbol),{active_symbols:e}=await this.api.basic.cache.activeSymbols("brief"),{pip:r}=e.find(t=>t.symbol===this.symbol),{payout_currencies:n}=await this.api.basic.cache.payoutCurrencies();this._data.currencies=n,this._data.categories=function(t,e){return t.reduce((t,r)=>{const n=function({contract_category:t,contract_category_display:e,barriers:r}){if("callput"===t)return 0===r?new wt("risefall","Rise/Fall"):new wt("higherlower","Higher/Lower");return new wt(t,e)}(r),{short:s}=n;t[s]||(t[s]={name:n,contract_types:[],bases:["stake","payout"],forward_starting:{},expiry_types:{}});const i=t[s];i.contract_types.includes(r.contract_type)||i.contract_types.push(r.contract_type),r.forward_starting_options&&(i.forward_starting=Object.values(r.forward_starting_options).map(({open:t,close:e})=>new re(t,e)).reduce((t,e)=>(t[e.min.epoch]=e,t),{}));const o={duration:new se(r.min_contract_duration,r.max_contract_duration),barriers:oe(r,e)};return"tick"===r.expiry_type?i.expiry_types.ticks=o:"intraday"===r.expiry_type?["seconds","minutes","hours"].forEach(t=>{i.expiry_types[t]=o}):"daily"===r.expiry_type&&(i.expiry_types.days=o),t},{})}(t.available,r)}}function oe({barriers:t,high_barrier:e,low_barrier:r,barrier:n},s){const i={count:t};return 1===t?i.single=new ee(n,s):2===t&&(i.high=new ee(e,s),i.low=new ee(r,s)),i}class ce extends qt{constructor(t,e){super({api:t,symbol:e})}async init(){const{active_symbols:t}=await this.api.basic.cache.activeSymbols("brief"),e=t.find(t=>t.symbol===this.symbol);this._data.is_open=e.exchange_is_open,this._data.is_trading_suspended=e.is_trading_suspended,this._data.pip=e.pip,this._data.name=new wt(e.symbol,e.display_name),this._data.market=new wt(e.market,e.market_display_name),this._data.sub_market=new wt(e.submarket,e.submarket_display_name)}get pip_size(){return jt(this._data.pip)}toPipSized(t){return t.toFixed(this.pip_size)}async ticks(){return this.api.ticks(this.symbol)}async candles(){return this.api.candles(this.symbol)}async contractOptions(){return new ie(this.api,this.symbol)}}class ae extends qt{constructor(t,e){const{epoch:r,open:n,high:s,low:i,close:o,open_time:c}=t,a={raw:t};a.time=new Jt(r),a.open_time=new Jt(c||r),a.open=new Wt(n,e),a.high=new Wt(s,e),a.low=new Wt(i,e),a.close=new Wt(o,e),super(a)}}class ue extends Tt{constructor(t,e){super({api:t,granularity:60,...kt(e)})}async init(){const{active_symbols:t}=await this.api.basic.cache.activeSymbols("brief");this._data.pip=t.find(t=>t.symbol===this.symbol).pip;const e=this.api.basic.subscribe(de(this));this.addSource(e.pipe(Ht(1),vt(t=>(function({ohlc:t},e){return new ae(t,e)})(t,this._data.pip)),et())),this.beforeUpdate(t=>{this._data.list=[...this._data.list.slice(1),t]}),this._data.list=await e.pipe(B(),vt(t=>pe(t,this._data.pip))).toPromise()}get list(){return[...this._data.list]}async history(t){return t?this.api.basic.cache.ticksHistory(de({...this,range:t})).then(t=>pe(t,this._data.pip)):this.list}}function pe({candles:t},e){return t.map(t=>new ae(t,e))}function de({symbol:t,range:e,granularity:r}){return{ticks_history:t,style:"candles",granularity:r,...Rt(e)}}class he extends Pt{constructor(t,e,r){super(Math.abs(t),e),this._data.percentage=r,this._data.is_win=t>0,this._data.sign=0===t?0:t>0?1:-1}}class _e extends Wt{constructor(t,e,r){super(t,e),this._data.time=new Jt(r)}}class le extends qt{constructor(t,e,r){const n={raw:t};n.price=new Pt(t.buy_price,e,r),n.balance_after=new Pt(t.balance_after,e,r),n.payout=new Pt(t.payout,e,r),n.start_time=new Jt(t.start_time),n.purchase_time=new Jt(t.purchase_time),n.code=new wt(t.shortcode,t.longcode),n.contract_id=t.contract_id,n.transaction_id=t.transaction_id,n.shortcode=t.shortcode,n.longcode=t.longcode,super(n)}}class ye extends qt{constructor(t,e,r){const n={raw:t};n.price=new Pt(t.sold_for,e,r),n.balance_after=new Pt(t.balance_after,e,r),n.contract_id=t.contract_id,n.transaction_id=t.transaction_id,n.buy_transaction=t.reference_id,super(n)}}class ge extends qt{constructor(t,e){const{epoch:r,quote:n,ask:s,bid:i}=t,o={raw:t};o.time=new Jt(r),o.quote=new Wt(n,e),o.ask=new Wt(s,e),o.bid=new Wt(i,e),super(o)}}const fe={expiry_time:"date_expiry",start_time:"date_start"};class me extends Tt{constructor(t,e){super({api:t,options:e})}async init({currency:t,symbol:e}={}){const r={currency:t,symbol:e,proposal:1,...$t({...this.options},fe)},{active_symbols:n}=await this.api.basic.cache.activeSymbols("brief");this._data.active_symbol=n.find(t=>t.symbol===r.symbol),this._data.type=r.contract_type,this._data.symbol=new wt(r.symbol,this._data.active_symbol.display_name),this._data.currency=r.currency,this.addSource(this.api.basic.subscribe(r).pipe(vt(t=>(function({proposal:t},{currency:e,pip:r,lang:n}){return{ask_price:new Pt(t.ask_price,e,n),start_time:new Jt(t.date_start),longcode:t.longcode,payout:new Pt(t.payout,e,n),current_spot:new _e(t.spot,r,t.spot_time),proposal_id:t.id,status:"proposal"}})(t,{...r,...this.active_symbol,lang:this.api.basic.lang})))),this._data.status="proposal",this.beforeUpdate(t=>{const{is_expired:e}=t;e&&this.api.basic.sellExpired().catch(()=>{}),Object.assign(this._data,t)}),await this.beforeUpdate().pipe(B()).toPromise()}async buy({max_price:t=this.ask_price.value}={}){const{buy:e}=await this.api.basic.buy({buy:this.proposal_id,price:t}),r=new le(e,this.currency,this.api.basic.lang);return this._data.id=r.contract_id,this._data.buy_transaction=r.transaction_id,this._data.buy_price=r.price,["purchase_time","start_time","payout","longcode","shortcode","code"].forEach(t=>{this._data[t]=r[t]}),this._data.status="open",this.addSource(this.api.basic.subscribe({proposal_open_contract:1,contract_id:e.contract_id}).pipe(vt(t=>(function({proposal_open_contract:t},e,r){const n=t=>new Wt(t,e),s=e=>new Pt(e,t.currency,r),i=(t,r)=>new _e(t,e,r),o=t=>new Jt(t);return{is_expired:!!t.is_expired,is_forward_starting:!!t.is_forward_starting,is_intraday:!!t.is_intraday,is_path_dependent:!!t.is_path_dependent,is_settleable:!!t.is_settleable,is_sold:!!t.is_sold,is_valid_to_sell:!!t.is_valid_to_sell,status:t.status,validation_error:t.validation_error,barrier:n(t.barrier),high_barrier:n(t.high_barrier),low_barrier:n(t.low_barrier),bid_price:s(t.bid_price),payout:s(t.payout),sell_price:s(t.sell_price),profit:((e,r)=>new he(e,t.currency,r))(t.profit,t.profit_percentage),current_spot:i(t.current_spot,t.current_spot_time),entry_spot:i(t.entry_tick,t.entry_tick_time),exit_spot:i(t.exit_spot,t.exit_spot_time),sell_spot:i(t.sell_spot,t.sell_spot_time),expiry_time:o(t.date_expiry),start_time:o(t.date_start),sell_time:o(t.sell_time),ticks:be(t.tick_stream,e),multiplier:t.multiplier,tick_count:t.tick_count,barrier_count:t.barrier_count,audit_details:t.audit_details,buy_transaction:t.transaction_ids.buy,sell_transaction:t.transaction_ids.sell}})(t,this.active_symbol.pip,this.api.basic.lang)))),r}async sell({max_price:t=0}={}){const{sell:e}=await this.api.basic.sell({sell:this.id,price:t}),r=new ye(e,this.currency,this.api.basic.lang);return this._data.sell_transaction=r.transaction_id,this._data.sell_price=r.price,this._data.status="sold",this._data.is_sold=!0,r}get is_open(){return"open"===this._data.status}}function be(t=[],e){return t.map(({epoch:t,tick:r})=>new ge({epoch:t,quote:r},e))}class qe extends Tt{constructor(t,e){super({api:t,...kt(e)})}async init(){const{active_symbols:t}=await this.api.basic.cache.activeSymbols("brief");this._data.pip=t.find(t=>t.symbol===this.symbol).pip;const e=this.api.basic.subscribe(ve(this));this.addSource(e.pipe(Ht(1),vt(t=>(function({tick:t},e){return new ge(t,e)})(t,this._data.pip)),et())),this.beforeUpdate(t=>{this._data.list=[...this._data.list.slice(1),t]}),this._data.list=await e.pipe(B(),vt(t=>we(t,this._data.pip))).toPromise()}get list(){return[...this._data.list]}async history(t){return t?this.api.basic.cache.ticksHistory(ve({...this,range:t})).then(t=>we(t,this._data.pip)):this.list}}function we({history:t},e){const r=[];return t.times.forEach((n,s)=>{const i=t.prices[s];r.push(new ge({epoch:n,quote:i},e))}),r}function ve({symbol:t,range:e}){return{ticks_history:t,style:"ticks",...Rt(e)}}class xe extends Tt{constructor(t){super({api:t})}async init(){const t=this.api.basic.subscribe({website_status:1});this.addSource(t.pipe(vt(Se))),this.beforeUpdate(t=>{Object.assign(this._data,t)}),await t.pipe(B()).toPromise()}get is_website_up(){return"up"===this._data.status}}function Se({website_status:t}){return{status:t.site_status,currencies:t.currencies_config,country:t.clients_country,call_limits:t.api_call_limits,languages:t.supported_languages,terms_and_condtions_version:t.terms_conditions_version}}r.d(e,"default",function(){return Me});class Me{constructor(...t){this.basic=new mt(...t)}async ticks(t){const e=new qe(this,t);return await e.init(),e}async candles(t){const e=new ue(this,t);return await e.init(),e}async contract(t){const e=new me(this,t);return await e.init(),e}async underlying(t){const e=new ce(this,t);return await e.init(),e}async account(t){const e=new Xt(this,t);return await e.init(),e}async assets(){const t=new te(this);return await t.init(),t}async websiteStatus(){const t=new xe(this);return await t.init(),t}async contractOptions(t){const e=new ie(this,t);return await e.init(),e}}}]).default});