<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [DerivAPI][1]
    -   [Parameters][2]
    -   [Examples][3]
    -   [tickStream][4]
        -   [Parameters][5]
    -   [candleStream][6]
        -   [Parameters][7]
    -   [contract][8]
        -   [Parameters][9]
    -   [underlying][10]
        -   [Parameters][11]
    -   [account][12]
        -   [Parameters][13]
    -   [assets][14]
-   [DerivAPIBasic][15]
    -   [Parameters][16]
    -   [Examples][17]
    -   [subscribeWithCallback][18]
        -   [Parameters][19]
        -   [Examples][20]
    -   [subscribe][21]
        -   [Parameters][22]
        -   [Examples][23]
    -   [onClose][24]
-   [Cache][25]
    -   [Parameters][26]
    -   [Examples][27]
-   [Underlying][28]
    -   [Parameters][29]
    -   [Examples][30]
    -   [pipSizedValue][31]
        -   [Parameters][32]
    -   [tickStream][33]
    -   [candleStream][34]
-   [Immutable][35]
    -   [Parameters][36]
    -   [\_data][37]
-   [Account][38]
    -   [Parameters][39]
    -   [Examples][40]
    -   [siblings][41]
    -   [openContracts][42]
    -   [closedContracts][43]
    -   [switch][44]
-   [Assets][45]
    -   [Parameters][46]
    -   [Examples][47]
    -   [openMarkets][48]
-   [CandlesParam][49]
    -   [Properties][50]
-   [CandleStream][51]
    -   [Parameters][52]
    -   [list][53]
        -   [Examples][54]
    -   [history][55]
        -   [Parameters][56]
        -   [Examples][57]
-   [Stream][58]
    -   [onUpdate][59]
        -   [Parameters][60]
        -   [Examples][61]
-   [Candle][62]
    -   [Properties][63]
-   [Candle][64]
    -   [Parameters][65]
-   [CustomDate][66]
-   [MarketValue][67]
    -   [Parameters][68]
    -   [pipSize][69]
    -   [pipSized][70]
-   [HistoryRange][71]
    -   [Properties][72]
-   [TicksParam][73]
    -   [Properties][74]
-   [TickStream][75]
    -   [Parameters][76]
    -   [list][77]
        -   [Examples][78]
    -   [history][79]
        -   [Parameters][80]
        -   [Examples][81]
-   [Tick][82]
    -   [Properties][83]
-   [Tick][84]
    -   [Parameters][85]
-   [ContractsParam][86]
    -   [Properties][87]
-   [Contract][88]
    -   [Parameters][89]
    -   [Examples][90]
    -   [buy][91]
        -   [Parameters][92]
    -   [sell][93]
        -   [Parameters][94]
    -   [isExpired][95]
    -   [status][96]

## DerivAPI

**Extends DerivAPIBasic**

The main class of the DerivAPI module. This class extends the minimum
functionality provided by the [DerivAPIBasic][15] adding abstract objects
that can be used to read data and interact with the API.

### Parameters

-   `options` **[Object][97]** For options details see: [DerivAPIBasic][15]

### Examples

```javascript
// Returns an abstract ticks object
const ticks = api.ticks('R_100');

// Subscribe to updates on the ticks object
ticks.onUpdate().subscribe(console.log);

// Read the last ticks available in the default range
const ticksHistory = ticks.list;

// Read the last 100 ticks until yesterday
const olderHistory = await ticks.history({ count: 100, end: new Date(yesterday) });
```

### tickStream

Provides a ticks stream and a list of available ticks

#### Parameters

-   `options` **([String][98] \| [TicksParam][99])** symbol or a ticks parameter object

Returns **[TickStream][100]** 

### candleStream

Provides a list of available candles with the default granularity

#### Parameters

-   `options` **([String][98] \| [CandlesParam][101])** symbol or a candles parameter object

Returns **[CandleStream][102]** 

### contract

A contract object with latest status and ability to buy/sell

#### Parameters

-   `options` **[ContractsParam][103]** parameters defining the contract

Returns **[Contract][104]** 

### underlying

An underlying object, including contract groups, pip size, etc.

#### Parameters

-   `symbol` **[String][98]** The underlying symbol

Returns **[Underlying][105]** 

### account

An account object, including loginid, balance, contracts, etc.

#### Parameters

-   `token` **[String][98]** Token to create the account with

Returns **[Account][106]** 

### assets

Trading assets including multiple underlyings and trading times

Returns **[Assets][107]** 

## DerivAPIBasic

**Extends DerivAPICalls**

The minimum functionality provided by DerivAPI, provides direct calls to the
API.
`api.cache` is available if you want to use the cached data (see [Cache][25])

### Parameters

-   `options` **[Object][97]**  (optional, default `{}`)
    -   `options.connection` **[WebSocket][108]?** A ready to use connection
    -   `options.endpoint` **[String][98]** API server to connect to (optional, default `'blue.binaryws.com'`)
    -   `options.appId` **[Number][109]** Application ID of the API user (optional, default `1`)
    -   `options.lang` **[String][98]** Language of the API communication (optional, default `'EN'`)

### Examples

```javascript
const apiFromOpenConnection = new DerivAPI({ connection });
const apiFromEndpoint = new DerivAPI({ endpoint: 'ws.binaryws.com', appId: 1234 });
```

### subscribeWithCallback

Subscribe and call the given callback on each response

#### Parameters

-   `request` **[Object][97]** A request object acceptable by the API
-   `callback` **[Function][110]** A callback to call on every new response

#### Examples

```javascript
await api.subscribeWithCallback({ ticks: 'R_100' }, console.log)
```

Returns **[Promise][111]** Resolves to the first response or is rejected with an error

### subscribe

Subscribe to a given request, returns a stream of new responses,
Errors should be handled by the user of the stream

#### Parameters

-   `request` **[Object][97]** A request object acceptable by the API

#### Examples

```javascript
const ticks = api.subscribe({ ticks: 'R_100' });
ticks.subscribe(console.log) // Print every new tick
```

Returns **Observable** An RxJS Observable

### onClose

Reconnects to the API in case of connection error, unless connection is
passed as an argument, in that case reconnecting should be handled in the
API user side.

## Cache

**Extends DerivAPICalls**

Cache - An in-memory cache used to prevent sending redundant requests to the
API

### Parameters

-   `api` **[DerivAPI][112]** API instance to get data that is not cached

### Examples

```javascript
// Read the latest active symbols
const symbols = await api.activeSymbols();

// Read the data from cache if available
const cachedSymbols = await api.cache.activeSymbols();
```

## Underlying

**Extends Immutable**

Abstract class for an underlying

### Parameters

-   `api` **[DerivAPI][112]** 
-   `symbol` **[String][98]** 

### Examples

```javascript
const underlying = await api.underlying('R_100');

const pipSized = underlying.pipSizedValue(123.1);

// Same as api.tickStream(symbol);
const tickStream = underlying.tickStream();

if (underlying.isOpen) await contract.buy();
```

### pipSizedValue

Returns the pipSized display of the value in string

#### Parameters

-   `value`  

### tickStream

Shortcut for api.tickStream(symbol)

### candleStream

Shortcut for api.candleStream(symbol)

## Immutable

An abstract class for immutable objects

### Parameters

-   `props` **[Object][97]** A list of properties to add for the immutable object (optional, default `{}`)

### \_data

The main storage for the data in immutable objects

Any access should be done through getters and streams

## Account

**Extends Immutable**

Abstract class for user accounts

### Parameters

-   `api` **[DerivAPI][112]** 
-   `token` **[String][98]** 

### Examples

```javascript
const account = await api.accounts(yourToken);

// Returns the open contracts of this account
const openContracts = account.openContracts();

const siblings = account.siblings;

// Switches the API account to the first sibling
siblings[0].switch();
```

### siblings

Returns **[Account][106]** all the sibling accounts

### openContracts

Returns **[Array][113]&lt;[Contract][104]>** A list of all open contracts

### closedContracts

Returns **[Array][113]&lt;[Contract][104]>** A list of all closed contracts

### switch

Switches to this account

## Assets

**Extends Immutable**

Abstract class for trading assets

### Parameters

-   `api` **[DerivAPI][112]** 

### Examples

```javascript
const assets = await api.assets();

// Get the current open markets
const openMarkets = assets.openMarkets;

const tradingTimes = assets.tradingTimes;
```

### openMarkets

Returns the current [Underlying][10] list for open markets

## CandlesParam

Type: [Object][97]

### Properties

-   `granularity` **[Number][109]** Granularity in seconds
-   `range` **[HistoryRange][114]** A chunk of history to return with start and end time
-   `symbol` **[String][98]** Symbol of the candles

## CandleStream

**Extends Stream**

An abstract class for Candles stream returned from [DerivAPI#candleStream][115]

### Parameters

-   `api` **[DerivAPI][112]** 
-   `options` **[CandlesParam][101]?** 

### list

An immutable list of Candle objects

#### Examples

```javascript
const candles = candleStream.list;
```

Returns **[Array][113]&lt;[Candle][116]>** 

### history

Resolves to a list of candles given the range

#### Parameters

-   `range` **[HistoryRange][114]?** 

#### Examples

```javascript
const oldCandles = await candleStream.history({count: 10, end: yesterday})
```

Returns **[Promise][111]&lt;[Array][113]&lt;[Candle][116]>>** 

## Stream

**Extends Immutable**

An abstract class for stream objects

### onUpdate

Listen on updates of a stream

#### Parameters

-   `callback` **[Function][110]** 

#### Examples

```javascript
const tickStream = api.tickStream('R_100');

tickStream.onUpdate(console.log);

tickStream.onUpdate().subscribe(console.log);
```

Returns **Observable** 

## Candle

Type: [Object][97]

### Properties

-   `time` **[CustomDate][117]** 
-   `open` **[MarketValue][118]** 
-   `high` **[MarketValue][118]** 
-   `low` **[MarketValue][118]** 
-   `close` **[MarketValue][118]** 

## Candle

**Extends Immutable**

A wrapper class for Candle

### Parameters

-   `candle` **[Object][97]** 
    -   `candle.epoch` **([Number][109] \| [String][98])** 
    -   `candle.open` **[Number][109]** 
    -   `candle.high` **[Number][109]** 
    -   `candle.low` **[Number][109]** 
    -   `candle.close` **[Number][109]** 
-   `pip` **[Number][109]** 

## CustomDate

**Extends Immutable**

An alternative date object

## MarketValue

**Extends Immutable**

Keeps a market value and pip size

### Parameters

-   `market` **[Object][97]** 
    -   `market.value` **[Number][109]** 
    -   `market.pip` **[Number][109]** 

### pipSize

Returns the pip size

### pipSized

Returns the pipsized value

## HistoryRange

Type: [Object][97]

### Properties

-   `start` **([Number][109] \| [Date][119])** An epoch in seconds or a Date object
-   `end` **([Number][109] \| [Date][119])**  An epoch in seconds or a Date object
-   `count` **[Number][109]** Number of ticks returned by history

## TicksParam

Type: [Object][97]

### Properties

-   `range` **[HistoryRange][114]** A chunk of history to return with start and end time
-   `symbol` **[String][98]** The ticks symbol

## TickStream

**Extends Stream**

Abstract class for ticks stream returned by the [DerivAPI#tickStream][120]

### Parameters

-   `api` **[DerivAPI][112]** 
-   `options` **[TicksParam][99]** 

### list

An immutable list of Tick objects

#### Examples

```javascript
const ticks = tickStream.list;
```

Returns **[Array][113]&lt;[Tick][121]>** 

### history

Resolves to a list of Ticks using the given range

#### Parameters

-   `range` **[HistoryRange][114]?** 

#### Examples

```javascript
const oldTicks = await tickStream.history({count: 10, end: yesterday})
```

Returns **[Promise][111]&lt;[Array][113]&lt;[Tick][121]>>** 

## Tick

Type: [Object][97]

### Properties

-   `time` **[CustomDate][117]** 
-   `quote` **[MarketValue][118]** 
-   `ask` **[MarketValue][118]** 
-   `bid` **[MarketValue][118]** 

## Tick

**Extends Immutable**

A wrapper class for Tick

### Parameters

-   `tick` **[Object][97]** 
    -   `tick.epoch` **([Number][109] \| [String][98])** 
    -   `tick.quote` **[Number][109]** 
    -   `tick.ask` **[Number][109]** 
    -   `tick.bid` **[Number][109]** 
-   `pip` **[Number][109]** 

## ContractsParam

Type: [Object][97]

### Properties

-   `contractType` **[String][98]** 
-   `amount` **[Number][109]** 
-   `barrier` **[String][98]** 
-   `barrier2` **[String][98]** 
-   `dateExpiry` **([Number][109] \| [Date][119])** epoch in seconds or [Date][122]
-   `dateStart` **([Number][109] \| [Date][119])** epoch in seconds or [Date][122]
-   `Currency` **[String][98]?** Default is the account currency
-   `basis` **[String][98]** stake or payout
-   `duration` **([Number][109] \| [String][98])** duration with unit or duration in number
-   `durationUnit` **[String][98]?** duration unit, required if duration is number
-   `productType` **[String][98]?** 'multi_barrier' or 'basic'
-   `account` **[Account][106]?** The account that has this contract

## Contract

**Extends Stream**

Abstract class for contracts

### Parameters

-   `api` **[DerivAPI][112]** 
-   `options` **[ContractsParam][103]** 

### Examples

```javascript
const contract = account.contract({ contractType: 'CALL', ...options })

const buy = await contract.buy();

contract.onUpdate().subscribe(console.log)
```

### buy

Buys this contract

#### Parameters

-   `options` **BuyParam** 
    -   `options.maxPrice`  

Returns **Buy** 

### sell

Sells this contract

#### Parameters

-   `options` **SellParam** 
    -   `options.maxPrice`  

Returns **Sell** 

### isExpired

Returns **[Boolean][123]** 

### status

Returns **[String][98]** Current status of the contract

[1]: #derivapi

[2]: #parameters

[3]: #examples

[4]: #tickstream

[5]: #parameters-1

[6]: #candlestream

[7]: #parameters-2

[8]: #contract

[9]: #parameters-3

[10]: #underlying

[11]: #parameters-4

[12]: #account

[13]: #parameters-5

[14]: #assets

[15]: #derivapibasic

[16]: #parameters-6

[17]: #examples-1

[18]: #subscribewithcallback

[19]: #parameters-7

[20]: #examples-2

[21]: #subscribe

[22]: #parameters-8

[23]: #examples-3

[24]: #onclose

[25]: #cache

[26]: #parameters-9

[27]: #examples-4

[28]: #underlying-1

[29]: #parameters-10

[30]: #examples-5

[31]: #pipsizedvalue

[32]: #parameters-11

[33]: #tickstream-1

[34]: #candlestream-1

[35]: #immutable

[36]: #parameters-12

[37]: #_data

[38]: #account-1

[39]: #parameters-13

[40]: #examples-6

[41]: #siblings

[42]: #opencontracts

[43]: #closedcontracts

[44]: #switch

[45]: #assets-1

[46]: #parameters-14

[47]: #examples-7

[48]: #openmarkets

[49]: #candlesparam

[50]: #properties

[51]: #candlestream-2

[52]: #parameters-15

[53]: #list

[54]: #examples-8

[55]: #history

[56]: #parameters-16

[57]: #examples-9

[58]: #stream

[59]: #onupdate

[60]: #parameters-17

[61]: #examples-10

[62]: #candle

[63]: #properties-1

[64]: #candle-1

[65]: #parameters-18

[66]: #customdate

[67]: #marketvalue

[68]: #parameters-19

[69]: #pipsize

[70]: #pipsized

[71]: #historyrange

[72]: #properties-2

[73]: #ticksparam

[74]: #properties-3

[75]: #tickstream-2

[76]: #parameters-20

[77]: #list-1

[78]: #examples-11

[79]: #history-1

[80]: #parameters-21

[81]: #examples-12

[82]: #tick

[83]: #properties-4

[84]: #tick-1

[85]: #parameters-22

[86]: #contractsparam

[87]: #properties-5

[88]: #contract-1

[89]: #parameters-23

[90]: #examples-13

[91]: #buy

[92]: #parameters-24

[93]: #sell

[94]: #parameters-25

[95]: #isexpired

[96]: #status

[97]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[98]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[99]: #ticksparam

[100]: #tickstream

[101]: #candlesparam

[102]: #candlestream

[103]: #contractsparam

[104]: #contract

[105]: #underlying

[106]: #account

[107]: #assets

[108]: https://developer.mozilla.org/docs/WebSockets

[109]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[110]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[111]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[112]: #derivapi

[113]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[114]: #historyrange

[115]: #derivapicandlestream

[116]: #candle

[117]: #customdate

[118]: #marketvalue

[119]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[120]: #derivapitickstream

[121]: #tick

[122]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[123]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
