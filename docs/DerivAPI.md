<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Main Modules][1]
    -   [DerivAPI][2]
        -   [Parameters][3]
        -   [Examples][4]
        -   [tickStream][5]
        -   [candleStream][6]
        -   [contract][7]
        -   [underlying][8]
        -   [account][9]
        -   [balance][10]
        -   [transactionStream][11]
        -   [assets][12]
        -   [changeAccount][13]
    -   [DerivAPIBasic][14]
        -   [Parameters][15]
        -   [Examples][16]
        -   [subscribeWithCallback][17]
        -   [subscribe][18]
        -   [onClose][19]
-   [Abstract Objects][20]
    -   [Immutables][21]
        -   [Account][22]
        -   [Assets][23]
        -   [Underlying][24]
        -   [Tick][25]
        -   [Tick][26]
        -   [Candle][27]
        -   [Candle][28]
        -   [Transaction][29]
        -   [ContractGroup][30]
        -   [Buy][31]
        -   [Sell][32]
    -   [Streams][33]
        -   [Balance][34]
        -   [CandleStream][35]
        -   [Contract][36]
        -   [TickStream][37]
        -   [TransactionStream][38]
    -   [Types][39]
        -   [MarketValue][40]
        -   [Monetary][41]
        -   [FullName][42]
        -   [CustomDate][43]
        -   [DateRange][44]
        -   [Duration][45]
        -   [DurationRange][46]
        -   [Immutable][47]
        -   [Stream][48]
-   [Core Functionality][49]
    -   [Cache][50]
        -   [Parameters][51]
        -   [Examples][52]
    -   [SubscriptionManager][53]
        -   [Examples][54]
    -   [Storage][55]
        -   [Examples][56]
-   [Object References][57]
    -   [Parameters][58]
        -   [CandlesParam][59]
        -   [TicksParam][60]
        -   [ContractsParam][61]
        -   [BuyParam][62]
        -   [SellParam][63]
        -   [HistoryRange][64]
    -   [Plain objects (returned from methods)][65]
        -   [SpotDurations][66]
        -   [ForwardDurations][67]
        -   [Durations][68]
        -   [Units][69]

## Main Modules




### DerivAPI

**Extends DerivAPIBasic**

The main class of the DerivAPI module. This class extends the minimum
functionality provided by the [DerivAPIBasic][14] adding abstract objects
that can be used to read data and interact with the API.

#### Parameters

-   `options` **[Object][70]** For options details see: [DerivAPIBasic][14]

#### Examples

```javascript
// Returns an abstract ticks object
const ticks = api.ticks('R_100');

// Subscribe to updates on the ticks object
ticks.onUpdate().subscribe(console.log);

// Read the last ticks available in the default range
const ticksHistory = ticks.list;

// Read the last 100 ticks until yesterday
const olderHistory = await ticks.history({ count: 100, end: new Date(yesterday) });
```

#### tickStream

Provides a ticks stream and a list of available ticks

##### Parameters

-   `options` **([String][71] \| [TicksParam][72])** symbol or a ticks parameter object

Returns **[TickStream][73]** 

#### candleStream

Provides a list of available candles with the default granularity

##### Parameters

-   `options` **([String][71] \| [CandlesParam][74])** symbol or a candles parameter object

Returns **[CandleStream][75]** 

#### contract

A contract object with latest status and ability to buy/sell

##### Parameters

-   `options` **[ContractsParam][76]** parameters defining the contract

Returns **[Contract][77]** 

#### underlying

An underlying object, including contract groups, pip size, etc.

##### Parameters

-   `symbol` **[String][71]** The underlying symbol

Returns **[Underlying][78]** 

#### account

An account object, including loginid, balance, contracts, etc.

##### Parameters

-   `token` **[String][71]** Token to create the account with

Returns **[Account][79]** 

#### balance

A balance stream

##### Parameters

-   `token` **[String][71]** 

Returns **[Balance][80]** 

#### transactionStream

A transaction stream

##### Parameters

-   `token` **[String][71]** 

Returns **[TransactionStream][81]** 

#### assets

Trading assets including multiple underlyings and trading times

Returns **[Assets][82]** 

#### changeAccount

Changes the account to the given account

##### Parameters

-   `account`  

### DerivAPIBasic

**Extends DerivAPICalls**

The minimum functionality provided by DerivAPI, provides direct calls to the
API.
`api.cache` is available if you want to use the cached data (see [Cache][50])

#### Parameters

-   `options` **[Object][70]**  (optional, default `{}`)
    -   `options.connection` **[WebSocket][83]?** A ready to use connection
    -   `options.endpoint` **[String][71]** API server to connect to (optional, default `'blue.binaryws.com'`)
    -   `options.appId` **[Number][84]** Application ID of the API user (optional, default `1`)
    -   `options.lang` **[String][71]** Language of the API communication (optional, default `'EN'`)

#### Examples

```javascript
const apiFromOpenConnection = new DerivAPI({ connection });
const apiFromEndpoint = new DerivAPI({ endpoint: 'ws.binaryws.com', appId: 1234 });
```

#### subscribeWithCallback

Subscribe and call the given callback on each response

##### Parameters

-   `request` **[Object][70]** A request object acceptable by the API
-   `callback` **[Function][85]** A callback to call on every new response

##### Examples

```javascript
await api.subscribeWithCallback({ ticks: 'R_100' }, console.log)
```

Returns **[Promise][86]** Resolves to the first response or is rejected with an error

#### subscribe

Subscribe to a given request, returns a stream of new responses,
Errors should be handled by the user of the stream

##### Parameters

-   `request` **[Object][70]** A request object acceptable by the API

##### Examples

```javascript
const ticks = api.subscribe({ ticks: 'R_100' });
ticks.subscribe(console.log) // Print every new tick
```

Returns **Observable** An RxJS Observable

#### onClose

Reconnects to the API in case of connection error, unless connection is
passed as an argument, in that case reconnecting should be handled in the
API user side.

## Abstract Objects




### Immutables

Abstract objects that provide static content and methods to make
use of them, changing internal fields of these objects is blocked
and they do not receive updates.


#### Account

**Extends Immutable**

Abstract class for user accounts

##### Parameters

-   `api` **[DerivAPI][87]** 
-   `token` **[String][71]** 

##### Examples

```javascript
const account = await api.accounts(yourToken);

// Returns the open contracts of this account
const openContracts = account.openContracts();

const siblings = account.siblings;

// Switches the API account to the first sibling
siblings[0].switch();
```

##### siblings

Returns **[Account][79]** all the sibling accounts

##### openContracts

Returns **[Array][88]&lt;[Contract][77]>** A list of all open contracts

##### closedContracts

Returns **[Array][88]&lt;[Contract][77]>** A list of all closed contracts

##### balance

Returns **[Balance][80]** A stream of balance

##### loginid

Returns **[String][71]** 

##### statusCodes

Returns **[Array][88]&lt;[String][71]>** A list of all status codes

##### landingCompany

Returns **[FullName][89]** Name of the landing company

##### apiTokens

Returns **[Array][88]&lt;[String][71]>** A list of available API tokens

##### transactionStream

Returns **[TransactionStream][81]** A stream of transactions \*

##### switch

Switches to this account

#### Assets

**Extends Immutable**

Abstract class for trading assets

##### Parameters

-   `api` **[DerivAPI][87]** 

##### Examples

```javascript
const assets = await api.assets();

// Get the current open markets
const openMarkets = assets.openMarkets;

const tradingTimes = assets.tradingTimes;
```

##### underlyings

Returns **[Array][88]&lt;[Underlying][78]>** 

##### openMarkets

Returns **[Array][88]&lt;[Underlying][78]>** list of open markets

##### tradingTimes

Returns **[Object][70]** 

##### tradingDurations

Returns **[Object][70]** 

#### Underlying

**Extends Immutable**

Abstract class for an underlying

##### Parameters

-   `api` **[DerivAPI][87]** 
-   `symbol` **[String][71]** 

##### Examples

```javascript
const underlying = await api.underlying('R_100');

const pipSized = underlying.pipSizedValue(123.1);

// Same as api.tickStream(symbol);
const tickStream = underlying.tickStream();

if (underlying.isOpen) await contract.buy();
```

##### name

Returns **[FullName][89]** The underlying name

##### isOpen

Returns **[Boolean][90]** is market open

##### isTradingSuspended

Returns **[Boolean][90]** is trading suspended

##### pipSize

Returns **[Boolean][90]** pip size

##### contractGroups

Returns **[Object][70]** Contract Groups

##### pipSizedValue

Returns the pipSized display of the value in string

###### Parameters

-   `value`  

##### tickStream

Shortcut for api.tickStream(symbol)

##### candleStream

Shortcut for api.candleStream(symbol)

#### Tick

Type: [Object][70]

##### Properties

-   `time` **[CustomDate][91]** 
-   `quote` **[MarketValue][92]** 
-   `ask` **[MarketValue][92]** 
-   `bid` **[MarketValue][92]** 

#### Tick

**Extends Immutable**

A wrapper class for Tick

##### Parameters

-   `tick` **[Object][70]** 
    -   `tick.epoch` **([Number][84] \| [String][71])** 
    -   `tick.quote` **[Number][84]** 
    -   `tick.ask` **[Number][84]** 
    -   `tick.bid` **[Number][84]** 
-   `pip` **[Number][84]** 

#### Candle

Type: [Object][70]

##### Properties

-   `time` **[CustomDate][91]** 
-   `open` **[MarketValue][92]** 
-   `high` **[MarketValue][92]** 
-   `low` **[MarketValue][92]** 
-   `close` **[MarketValue][92]** 

#### Candle

**Extends Immutable**

A wrapper class for Candle

##### Parameters

-   `candle` **[Object][70]** 
    -   `candle.epoch` **([Number][84] \| [String][71])** 
    -   `candle.open` **[Number][84]** 
    -   `candle.high` **[Number][84]** 
    -   `candle.low` **[Number][84]** 
    -   `candle.close` **[Number][84]** 
-   `pip` **[Number][84]** 

#### Transaction

**Extends Immutable**

A class for transaction objects

##### action

Returns **[String][71]** 

##### amount

Returns **[Monetary][93]** 

##### transactionId

Returns **[Number][84]** 

##### time

Returns **[CustomDate][91]** 

#### ContractGroup

**Extends Immutable**

A container for contract group info

##### name

Returns **[String][71]** contract name

##### barriers

Returns **[Array][88]&lt;[Number][84]>** List of barriers

##### basis

Returns **[String][71]** 'stake' or 'payout'

##### contractTypes

Returns **[Array][88]&lt;[String][71]>** List of available contract types

##### durations

Returns **[Durations][94]** Durations for spot and forward starting contracts

##### units

Returns **[Units][95]** Units for spot and forward starting contracts

##### forwardSessions

Returns **[Array][88]&lt;[DateRange][96]>** Durations for forward starting contracts

##### isForwardStarting

Returns **[Boolean][90]** 

#### Buy

**Extends Immutable**

Wrapper around a Buy response

#### Sell

**Extends Immutable**

The wrapper around a sell response

### Streams

Live stream of data, plus some dynamically updated fields, you
can subscribe to changes using the `onUpdate` method on all of
these classes.


#### Balance

**Extends Stream**

An abstract class for balance information

##### Parameters

-   `api` **[DerivAPI][87]** 

##### Examples

```javascript
const balance = accounts.balance;

const formattedBalance = balance.format;

balance.onUpdate().subscribe(balance => console.log)
```

##### amount

Returns **[Monetary][93]** 

##### value

Returns **[Number][84]** numeric balance value

##### currency

Returns **[String][71]** currency of the \_data.amount.

##### display

Returns **[String][71]** display value of \_data.amount.(decimal point)

##### format

Returns **[String][71]** formatted \_data.amount.(decimal point, comma separated)

#### CandleStream

**Extends Stream**

An abstract class for Candles stream returned from [DerivAPI#candleStream][97]

##### Parameters

-   `api` **[DerivAPI][87]** 
-   `options` **[CandlesParam][74]?** 

##### list

An immutable list of Candle objects

###### Examples

```javascript
const candles = candleStream.list;
```

Returns **[Array][88]&lt;[Candle][98]>** 

##### history

Resolves to a list of candles given the range

###### Parameters

-   `range` **[HistoryRange][99]?** 

###### Examples

```javascript
const oldCandles = await candleStream.history({count: 10, end: yesterday})
```

Returns **[Promise][86]&lt;[Array][88]&lt;[Candle][98]>>** 

#### Contract

**Extends Stream**

Abstract class for contracts

##### Parameters

-   `api` **[DerivAPI][87]** 
-   `options` **[ContractsParam][76]** 

##### Examples

```javascript
const contract = account.contract({ contractType: 'CALL', ...options })

const buy = await contract.buy();

contract.onUpdate().subscribe(console.log)
```

##### buy

Buys this contract

###### Parameters

-   `buy` **[BuyParam][100]** 
    -   `buy.maxPrice`  

Returns **[Buy][101]** 

##### sell

Sells this contract

###### Parameters

-   `sell` **[SellParam][102]** 
    -   `sell.maxPrice`  

Returns **[Sell][103]** 

##### isExpired

Returns **[Boolean][90]** 

##### status

Returns **[String][71]** Current status of the contract

##### sellPrice

Returns **[Monetary][93]** Price at which the contract was sold

##### buyPrice

Returns **[Monetary][93]** Price at which the contract was bought

##### type

Returns **[String][71]** contract type

##### potentialPayout

Returns **[Monetary][93]** The payout value before the contract was sold

##### payout

Returns **[Monetary][93]** The payout after selling the contract

##### contractId

Returns **[Number][84]** The contract ID after purchase

##### purchaseTime

Returns **[CustomDate][91]** Time of purchase

##### isOpen

Returns **[Boolean][90]** 

##### duration

Returns **[Duration][104]** 

#### TickStream

**Extends Stream**

Abstract class for ticks stream returned by the [DerivAPI#tickStream][105]

##### Parameters

-   `api` **[DerivAPI][87]** 
-   `options` **[TicksParam][72]** 

##### list

An immutable list of Tick objects

###### Examples

```javascript
const ticks = tickStream.list;
```

Returns **[Array][88]&lt;[Tick][106]>** 

##### history

Resolves to a list of Ticks using the given range

###### Parameters

-   `range` **[HistoryRange][99]?** 

###### Examples

```javascript
const oldTicks = await tickStream.history({count: 10, end: yesterday})
```

Returns **[Promise][86]&lt;[Array][88]&lt;[Tick][106]>>** 

#### TransactionStream

**Extends Stream**

A stream of transactions

##### Parameters

-   `api` **[DerivAPI][87]** 

##### Examples

```javascript
const txStream = accounts.transactionStream;

const txList = txStream.list;

txStream.onUpdate(console.log)
```

##### list

Returns **[Array][88]&lt;[Transaction][107]>** 

### Types

Container classes for data types, providing means to convert them
to other types and represent them to the UI. These are mostly
simpler objects used for representing data.


#### MarketValue

**Extends Immutable**

Keeps a market value and pip size

##### Parameters

-   `market` **[Object][70]** 
    -   `market.value` **[Number][84]** 
    -   `market.pip` **[Number][84]** 

##### pipSize

Returns the pip size

##### pipSized

Returns the pipsized value

#### Monetary

**Extends Immutable**

Keep money related values

##### Parameters

-   `Currency` **[String][71]** 
-   `Value` **[Number][84]** 

##### display

Returns **[String][71]** decimal value based on currency

##### format

Returns **[String][71]** comma separated decimal value based on currency

#### FullName

**Extends Immutable**

A class for keeping short and full name of things

##### Parameters

-   `full` **[String][71]** Full form of the name
-   `short` **[String][71]** short form of the name

##### Examples

```javascript
const lc = account.landingCompany;

console.log(`Landing Company: ${lc.full}, Short code: ${lc.short}`);
```

##### code

Returns **[String][71]** alias for this.short

##### shortcode

Returns **[String][71]** alias for this.short

#### CustomDate

**Extends Immutable**

An alternative date object

#### DateRange

**Extends Immutable**

A date range class

##### Parameters

-   `open` **[CustomDate][91]** 
-   `close` **[CustomDate][91]** 

#### Duration

**Extends Immutable**

Class to keep durations

##### Parameters

-   `value` **[Number][84]** 
-   `unit` **([String][71] \| [FullName][89])** 

##### seconds

Returns **[Number][84]** length of duration in seconds

##### display

Returns **[String][71]** Value plus unit

#### DurationRange

**Extends Immutable**

Class to keep duration ranges

##### Parameters

-   `min` **[Number][84]** 
-   `max` **[Number][84]** 

##### isInRange

###### Parameters

-   `date` **([CustomDate][91] \| [Date][108] \| [Number][84])** 

Returns **[Boolean][90]** 

#### Immutable

An abstract class for immutable objects

##### Parameters

-   `props` **[Object][70]** A list of properties to add for the immutable object (optional, default `{}`)

#### Stream

**Extends Immutable**

An abstract class for stream objects

##### onUpdate

Listen on updates of a stream

###### Parameters

-   `callback` **[Function][85]** 

###### Examples

```javascript
const tickStream = api.tickStream('R_100');

tickStream.onUpdate(console.log);

tickStream.onUpdate().subscribe(console.log);
```

Returns **Observable** 

## Core Functionality




### Cache

**Extends DerivAPICalls**

Cache - An in-memory cache used to prevent sending redundant requests to the
API

#### Parameters

-   `api` **[DerivAPI][87]** API instance to get data that is not cached

#### Examples

```javascript
// Read the latest active symbols
const symbols = await api.activeSymbols();

// Read the data from cache if available
const cachedSymbols = await api.cache.activeSymbols();
```

### SubscriptionManager

Subscription Manager - manage subscription channels

Makes sure there is always one subscription channel for all requests of
subscriptions, and forgets channels that don't have subscribers. It also
ensures that subscriptions are revived after connection drop.

#### Examples

```javascript
// This one creates a new subscription assuming it is the first one for R_100
api.subscribeWithCallback({ ticks: 'R_100' }, console.log);

// This one uses the existing subscription to R_100
api.subscribeWithCallback({ ticks: 'R_100' }, console.log);
```

### Storage

**Extends Cache**

Storage - A permanent storage for data, kept in browser and is useful for
data that is valid over extended periods of time.

#### Examples

```javascript
// Read the data from storage if available
const cachedSymbols = await api.storage.activeSymbols();
```

## Object References

These are plain JavaScript objects that are named to easily refer to
them in this documentation, they don't physically exist as a class
in this codebase.


### Parameters




#### CandlesParam

Type: [Object][70]

##### Properties

-   `granularity` **[Number][84]** Granularity in seconds
-   `range` **[HistoryRange][99]** A chunk of history to return with start and end time
-   `symbol` **[String][71]** Symbol of the candles

#### TicksParam

Type: [Object][70]

##### Properties

-   `range` **[HistoryRange][99]** A chunk of history to return with start and end time
-   `symbol` **[String][71]** The ticks symbol

#### ContractsParam

Type: [Object][70]

##### Properties

-   `contractType` **[String][71]** 
-   `amount` **[Number][84]** 
-   `barrier` **[String][71]** 
-   `barrier2` **[String][71]** 
-   `dateExpiry` **([Number][84] \| [Date][108])** epoch in seconds or [Date][109]
-   `dateStart` **([Number][84] \| [Date][108])** epoch in seconds or [Date][109]
-   `Currency` **[String][71]?** Default is the account currency
-   `basis` **[String][71]** stake or payout
-   `duration` **([Number][84] \| [String][71])** duration with unit or duration in number
-   `durationUnit` **[String][71]?** duration unit, required if duration is number
-   `productType` **[String][71]?** 'multi_barrier' or 'basic'
-   `account` **[Account][79]?** The account that has this contract

#### BuyParam

Type: [Object][70]

##### Properties

-   `maxPrice` **[Number][84]?** Maximum acceptable price for buyin the contract

#### SellParam

Type: [Object][70]

##### Properties

-   `maxPrice` **[Number][84]?** Maximum acceptable price for selling the contract

#### HistoryRange

Type: [Object][70]

##### Properties

-   `start` **([Number][84] \| [Date][108])** An epoch in seconds or a Date object
-   `end` **([Number][84] \| [Date][108])**  An epoch in seconds or a Date object
-   `count` **[Number][84]** Number of ticks returned by history

### Plain objects (returned from methods)




#### SpotDurations

Type: [Object][70]

##### Properties

-   `daily` **[DurationRange][110]** 
-   `intraday` **[DurationRange][110]** 
-   `tick` **[DurationRange][110]** 

#### ForwardDurations

Type: [Object][70]

##### Properties

-   `intraday` **[DurationRange][110]** 

#### Durations

Type: [Object][70]

##### Properties

-   `spot` **[SpotDurations][111]** 
-   `forward` **[ForwardDurations][112]** 

#### Units

Type: [Object][70]

##### Properties

-   `spot` **[FullName][89]** 
-   `forward` **[FullName][89]** 

[1]: #main-modules

[2]: #derivapi

[3]: #parameters

[4]: #examples

[5]: #tickstream

[6]: #candlestream

[7]: #contract

[8]: #underlying

[9]: #account

[10]: #balance

[11]: #transactionstream

[12]: #assets

[13]: #changeaccount

[14]: #derivapibasic

[15]: #parameters-1

[16]: #examples-1

[17]: #subscribewithcallback

[18]: #subscribe

[19]: #onclose

[20]: #abstract-objects

[21]: #immutables

[22]: #account-1

[23]: #assets-1

[24]: #underlying-1

[25]: #tick

[26]: #tick-1

[27]: #candle

[28]: #candle-1

[29]: #transaction

[30]: #contractgroup

[31]: #buy

[32]: #sell

[33]: #streams

[34]: #balance-1

[35]: #candlestream-1

[36]: #contract-1

[37]: #tickstream-1

[38]: #transactionstream-1

[39]: #types

[40]: #marketvalue

[41]: #monetary

[42]: #fullname

[43]: #customdate

[44]: #daterange

[45]: #duration

[46]: #durationrange

[47]: #immutable

[48]: #stream

[49]: #core-functionality

[50]: #cache

[51]: #parameters-2

[52]: #examples-2

[53]: #subscriptionmanager

[54]: #examples-3

[55]: #storage

[56]: #examples-4

[57]: #object-references

[58]: #parameters-3

[59]: #candlesparam

[60]: #ticksparam

[61]: #contractsparam

[62]: #buyparam

[63]: #sellparam

[64]: #historyrange

[65]: #plain-objects-returned-from-methods

[66]: #spotdurations

[67]: #forwarddurations

[68]: #durations

[69]: #units

[70]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[71]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[72]: #ticksparam

[73]: #tickstream

[74]: #candlesparam

[75]: #candlestream

[76]: #contractsparam

[77]: #contract

[78]: #underlying

[79]: #account

[80]: #balance

[81]: #transactionstream

[82]: #assets

[83]: https://developer.mozilla.org/docs/WebSockets

[84]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[85]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[86]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[87]: #derivapi

[88]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[89]: #fullname

[90]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[91]: #customdate

[92]: #marketvalue

[93]: #monetary

[94]: #durations

[95]: #units

[96]: #daterange

[97]: #derivapicandlestream

[98]: #candle

[99]: #historyrange

[100]: #buyparam

[101]: #buy

[102]: #sellparam

[103]: #sell

[104]: #duration

[105]: #derivapitickstream

[106]: #tick

[107]: #transaction

[108]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[109]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[110]: #durationrange

[111]: #spotdurations

[112]: #forwarddurations
