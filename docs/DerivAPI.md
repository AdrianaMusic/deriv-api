<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Main Modules][1]
    -   [DerivAPI][2]
        -   [Parameters][3]
        -   [Examples][4]
        -   [tickStream][5]
        -   [candleStream][6]
        -   [contract][7]
        -   [underlying][8]
        -   [account][9]
        -   [balance][10]
        -   [transactionStream][11]
        -   [assets][12]
        -   [changeAccount][13]
    -   [DerivAPIBasic][14]
        -   [Parameters][15]
        -   [Examples][16]
        -   [subscribeWithCallback][17]
        -   [subscribe][18]
        -   [onClose][19]
-   [Abstract Objects][20]
    -   [Immutables][21]
        -   [Account][22]
        -   [Assets][23]
        -   [Underlying][24]
        -   [Tick][25]
        -   [Candle][26]
        -   [Transaction][27]
        -   [ContractGroup][28]
        -   [Buy][29]
        -   [Sell][30]
    -   [Streams][31]
        -   [Balance][32]
        -   [CandleStream][33]
        -   [Contract][34]
        -   [TickStream][35]
        -   [TransactionStream][36]
    -   [Types][37]
        -   [MarketValue][38]
        -   [Monetary][39]
        -   [FullName][40]
        -   [CustomDate][41]
        -   [DateRange][42]
        -   [Duration][43]
        -   [DurationRange][44]
        -   [Immutable][45]
        -   [Stream][46]
-   [Core Functionality][47]
    -   [Cache][48]
        -   [Parameters][49]
        -   [Examples][50]
    -   [SubscriptionManager][51]
        -   [Examples][52]
    -   [Storage][53]
        -   [Examples][54]
-   [Object References][55]
    -   [Parameters][56]
        -   [CandlesParam][57]
        -   [TicksParam][58]
        -   [ContractsParam][59]
        -   [BuyParam][60]
        -   [SellParam][61]
        -   [HistoryRange][62]
    -   [Plain objects (returned from methods)][63]
        -   [SpotDurations][64]
        -   [ForwardDurations][65]
        -   [Durations][66]
        -   [DurationUnits][67]

## Main Modules




### DerivAPI

**Extends DerivAPIBasic**

The main class of the DerivAPI module. This class extends the minimum
functionality provided by the [DerivAPIBasic][14] adding abstract objects
that can be used to read data and interact with the API.

#### Parameters

-   `options` **[Object][68]** For options details see: [DerivAPIBasic][14]

#### Examples

```javascript
// Returns an abstract ticks object
const ticks = api.ticks('R_100');

// Subscribe to updates on the ticks object
ticks.onUpdate().subscribe(console.log);

// Read the last ticks available in the default range
const ticksHistory = ticks.list;

// Read the last 100 ticks until yesterday
const olderHistory = await ticks.history({ count: 100, end: new Date(yesterday) });
```

#### tickStream

Provides a ticks stream and a list of available ticks

##### Parameters

-   `options` **([String][69] \| [TicksParam][70])** symbol or a ticks parameter object

Returns **[TickStream][71]** 

#### candleStream

Provides a list of available candles with the default granularity

##### Parameters

-   `options` **([String][69] \| [CandlesParam][72])** symbol or a candles parameter object

Returns **[CandleStream][73]** 

#### contract

A contract object with latest status and ability to buy/sell

##### Parameters

-   `options` **[ContractsParam][74]** parameters defining the contract

Returns **[Contract][75]** 

#### underlying

An underlying object, including contract groups, pip size, etc.

##### Parameters

-   `symbol` **[String][69]** The underlying symbol

Returns **[Underlying][76]** 

#### account

An account object, including loginid, balance, contracts, etc.

##### Parameters

-   `token` **[String][69]** Token to create the account with

Returns **[Account][77]** 

#### balance

A balance stream

##### Parameters

-   `token` **[String][69]** 

Returns **[Balance][78]** 

#### transactionStream

A transaction stream

##### Parameters

-   `token` **[String][69]** 

Returns **[TransactionStream][79]** 

#### assets

Trading assets including multiple underlyings and trading times

Returns **[Assets][80]** 

#### changeAccount

Changes the account to the given account

##### Parameters

-   `account`  

### DerivAPIBasic

**Extends DerivAPICalls**

The minimum functionality provided by DerivAPI, provides direct calls to the
API.
`api.cache` is available if you want to use the cached data (see [Cache][48])

#### Parameters

-   `options` **[Object][68]**  (optional, default `{}`)
    -   `options.connection` **[WebSocket][81]?** A ready to use connection
    -   `options.endpoint` **[String][69]** API server to connect to (optional, default `'blue.binaryws.com'`)
    -   `options.appId` **[Number][82]** Application ID of the API user (optional, default `1`)
    -   `options.lang` **[String][69]** Language of the API communication (optional, default `'EN'`)

#### Examples

```javascript
const apiFromOpenConnection = new DerivAPI({ connection });
const apiFromEndpoint = new DerivAPI({ endpoint: 'ws.binaryws.com', appId: 1234 });
```

#### subscribeWithCallback

Subscribe and call the given callback on each response

##### Parameters

-   `request` **[Object][68]** A request object acceptable by the API
-   `callback` **[Function][83]** A callback to call on every new response

##### Examples

```javascript
await api.subscribeWithCallback({ ticks: 'R_100' }, console.log)
```

Returns **[Promise][84]** Resolves to the first response or is rejected with an error

#### subscribe

Subscribe to a given request, returns a stream of new responses,
Errors should be handled by the user of the stream

##### Parameters

-   `request` **[Object][68]** A request object acceptable by the API

##### Examples

```javascript
const ticks = api.subscribe({ ticks: 'R_100' });
ticks.subscribe(console.log) // Print every new tick
```

Returns **Observable** An RxJS Observable

#### onClose

Reconnects to the API in case of connection error, unless connection is
passed as an argument, in that case reconnecting should be handled in the
API user side.

## Abstract Objects




### Immutables

Abstract objects that provide static content and methods to make
use of them, changing internal fields of these objects is blocked
and they do not receive updates.


#### Account

**Extends Immutable**

Abstract class for user accounts

##### Parameters

-   `api` **[DerivAPI][85]** 
-   `token` **[String][69]** 

##### Properties

-   `siblings` **[Array][86]&lt;[Account][77]>** 
-   `contracts` **[Array][86]&lt;[Contract][75]>** 
-   `openContracts` **[Array][86]&lt;[Contract][75]>** 
-   `closedContracts` **[Array][86]&lt;[Contract][75]>** 
-   `balance` **[Balance][78]** 
-   `loginid` **[String][69]** 
-   `statusCodes` **[Array][86]&lt;[String][69]>** 
-   `landingCompany` **[FullName][87]** 
-   `apiTokens` **[Array][86]&lt;[String][69]>** 
-   `transactionStream` **[TransactionStream][79]** 

##### Examples

```javascript
const account = await api.accounts(yourToken);

// Returns the open contracts of this account
const openContracts = account.openContracts();

const siblings = account.siblings;

// Switches the API account to the first sibling
siblings[0].switch();
```

##### switch

Switches to this account

#### Assets

**Extends Immutable**

Abstract class for trading assets

##### Parameters

-   `api` **[DerivAPI][85]** 

##### Properties

-   `underlyings` **[Array][86]&lt;[Underlying][76]>** 
-   `openMarkets` **[Array][86]&lt;[Underlying][76]>** 
-   `tradingTimes` **[Object][68]** 
-   `tradingDurations` **[Object][68]** 

##### Examples

```javascript
const assets = await api.assets();

// Get the current open markets
const openMarkets = assets.openMarkets;

const tradingTimes = assets.tradingTimes;
```

#### Underlying

**Extends Immutable**

Abstract class for an underlying

##### Parameters

-   `api` **[DerivAPI][85]** 
-   `symbol` **[String][69]** 

##### Properties

-   `name` **[FullName][87]** 
-   `isOpen` **[Boolean][88]** 
-   `isTradingSuspended` **[Boolean][88]** 
-   `pipSize` **[Number][82]** 
-   `contractGroups` **[Object][68]** 
-   `contractGroups` **[Object][68]** 

##### Examples

```javascript
const underlying = await api.underlying('R_100');

const pipSized = underlying.pipSizedValue(123.1);

// Same as api.tickStream(symbol);
const tickStream = underlying.tickStream();

if (underlying.isOpen) await contract.buy();
```

##### pipSizedValue

Returns the pipSized display of the value in string

###### Parameters

-   `value`  

##### tickStream

Shortcut for api.tickStream(symbol)

##### candleStream

Shortcut for api.candleStream(symbol)

#### Tick

**Extends Immutable**

A wrapper class for Tick

##### Parameters

-   `tick` **[Object][68]** 
    -   `tick.epoch` **([Number][82] \| [String][69])** 
    -   `tick.quote` **[Number][82]** 
    -   `tick.ask` **[Number][82]** 
    -   `tick.bid` **[Number][82]** 
-   `pip` **[Number][82]** 

##### Properties

-   `time` **[CustomDate][89]** 
-   `quote` **[MarketValue][90]** 
-   `ask` **[MarketValue][90]** 
-   `bid` **[MarketValue][90]** 

#### Candle

**Extends Immutable**

A wrapper class for Candle

##### Parameters

-   `candle` **[Object][68]** 
    -   `candle.epoch` **([Number][82] \| [String][69])** 
    -   `candle.open` **[Number][82]** 
    -   `candle.high` **[Number][82]** 
    -   `candle.low` **[Number][82]** 
    -   `candle.close` **[Number][82]** 
-   `pip` **[Number][82]** 

##### Properties

-   `time` **[CustomDate][89]** 
-   `open` **[MarketValue][90]** 
-   `high` **[MarketValue][90]** 
-   `low` **[MarketValue][90]** 
-   `close` **[MarketValue][90]** 

#### Transaction

**Extends Immutable**

A class for transaction objects

##### Properties

-   `action` **[String][69]** 
-   `amount` **[Monetary][91]** 
-   `transactionId` **[Number][82]** 
-   `time` **[CustomDate][89]** 

#### ContractGroup

**Extends Immutable**

A container for contract group info

##### Properties

-   `name` **[String][69]** 
-   `barriers` **[Array][86]&lt;[Number][82]>** 
-   `basis` **[String][69]** 'stake' or 'payout'
-   `contractTypes` **[Array][86]&lt;[String][69]>** 
-   `durations` **[Durations][92]** Durations for spot and forward starting contracts
-   `durationUnits` **[DurationUnits][93]** Duration units for spot and forward starting contracts
-   `forwardSessions` **[Array][86]&lt;[DateRange][94]>** 
-   `isForwardStarting` **[Boolean][88]** 

#### Buy

**Extends Immutable**

Wrapper around a Buy response

#### Sell

**Extends Immutable**

The wrapper around a sell response

### Streams

Live stream of data, plus some dynamically updated fields, you
can subscribe to changes using the `onUpdate` method on all of
these classes.


#### Balance

**Extends Stream**

An abstract class for balance information

##### Parameters

-   `api` **[DerivAPI][85]** 

##### Properties

-   `amount` **[Monetary][91]** 
-   `value` **[Number][82]** numeric balance value
-   `currency` **[String][69]** currency of the amount
-   `display` **[String][69]** display value of amount (decimal point)
-   `format` **[String][69]** formatted amount (decimal point, comma separated)

##### Examples

```javascript
const balance = accounts.balance;

const formattedBalance = balance.format;

balance.onUpdate().subscribe(balance => console.log)
```

#### CandleStream

**Extends Stream**

An abstract class for Candles stream returned from [DerivAPI#candleStream][95]

##### Parameters

-   `api` **[DerivAPI][85]** 
-   `options` **[CandlesParam][72]?** 

##### Properties

-   `list` **[Array][86]&lt;[Candle][96]>** An immutable list of candles

##### history

Resolves to a list of candles given the range

###### Parameters

-   `range` **[HistoryRange][97]?** 

###### Examples

```javascript
const oldCandles = await candleStream.history({count: 10, end: yesterday})
```

Returns **[Promise][84]&lt;[Array][86]&lt;[Candle][96]>>** 

#### Contract

**Extends Stream**

Abstract class for contracts

##### Parameters

-   `api` **[DerivAPI][85]** 
-   `options` **[ContractsParam][74]** 

##### Properties

-   `status` **[String][69]** Current status of the contract
-   `sellPrice` **[Monetary][91]** Price at which the contract was sold
-   `buyPrice` **[Monetary][91]** Price at which the contract was bought
-   `type` **[String][69]** contract type
-   `potentialPayout` **[Monetary][91]** The payout value before the contract was sold
-   `payout` **[Monetary][91]** The payout after selling the contract
-   `contractId` **[Number][82]** The contract ID after purchase
-   `purchaseTime` **[CustomDate][89]** Time of purchase
-   `isExpired` **[Boolean][88]** 
-   `isOpen` **[Boolean][88]** 
-   `duration` **[Duration][98]** 

##### Examples

```javascript
const contract = account.contract({ contractType: 'CALL', ...options })

const buy = await contract.buy();

contract.onUpdate().subscribe(console.log)
```

##### buy

Buys this contract

###### Parameters

-   `buy` **[BuyParam][99]** 
    -   `buy.maxPrice`  

Returns **[Buy][100]** 

##### sell

Sells this contract

###### Parameters

-   `sell` **[SellParam][101]** 
    -   `sell.maxPrice`  

Returns **[Sell][102]** 

#### TickStream

**Extends Stream**

Abstract class for ticks stream returned by the [DerivAPI#tickStream][103]

##### Parameters

-   `api` **[DerivAPI][85]** 
-   `options` **[TicksParam][70]** 

##### Properties

-   `list` **[Array][86]&lt;[Tick][104]>** An immutable list of ticks

##### history

Resolves to a list of Ticks using the given range

###### Parameters

-   `range` **[HistoryRange][97]?** 

###### Examples

```javascript
const oldTicks = await tickStream.history({count: 10, end: yesterday})
```

Returns **[Promise][84]&lt;[Array][86]&lt;[Tick][104]>>** 

#### TransactionStream

**Extends Stream**

A stream of transactions

##### Parameters

-   `api` **[DerivAPI][85]** 

##### Properties

-   `list` **[Array][86]&lt;[Transaction][105]>** An immutable list of transactions

##### Examples

```javascript
const txStream = accounts.transactionStream;

const txList = txStream.list;

txStream.onUpdate(console.log)
```

### Types

Container classes for data types, providing means to convert them
to other types and represent them to the UI. These are mostly
simpler objects used for representing data.


#### MarketValue

**Extends Immutable**

Keeps a market value and pip size

##### Parameters

-   `market` **[Object][68]** 
    -   `market.value` **[Number][82]** 
    -   `market.pip` **[Number][82]** 

##### Properties

-   `pipSize` **[Number][82]** 
-   `pipSized` **[Number][82]** the pipsized value

#### Monetary

**Extends Immutable**

Keep money related values

##### Parameters

-   `Currency` **[String][69]** 
-   `Value` **[Number][82]** 

##### Properties

-   `display` **[String][69]** decimal value based on currency
-   `format` **[String][69]** comma separated decimal value based on currency

#### FullName

**Extends Immutable**

A class for keeping short and full name of things

##### Parameters

-   `full` **[String][69]** Full form of the name
-   `short` **[String][69]** short form of the name

##### Properties

-   `code` **[String][69]** alias for this.short
-   `shortcode` **[String][69]** alias for this.short

##### Examples

```javascript
const lc = account.landingCompany;

console.log(`Landing Company: ${lc.full}, Short code: ${lc.short}`);
```

#### CustomDate

**Extends Immutable**

An alternative date object

##### isBefore

###### Parameters

-   `date` **([CustomDate][89] \| [Date][106] \| [Number][82])** 

Returns **[Boolean][88]** 

##### isAfter

###### Parameters

-   `date` **([CustomDate][89] \| [Date][106] \| [Number][82])** 

Returns **[Boolean][88]** 

#### DateRange

**Extends Immutable**

A date range class

##### Parameters

-   `open` **[CustomDate][89]** 
-   `close` **[CustomDate][89]** 

##### isInRange

###### Parameters

-   `date` **([CustomDate][89] \| [Date][106] \| [Number][82])** 

Returns **[Boolean][88]** 

#### Duration

**Extends Immutable**

Class to keep durations

##### Parameters

-   `value` **[Number][82]** 
-   `unit` **([String][69] \| [FullName][87])** 

##### Properties

-   `seconds` **[Number][82]** length of duration in seconds
-   `display` **[String][69]** Value plus unit

#### DurationRange

**Extends Immutable**

Class to keep duration ranges

##### Parameters

-   `min` **[Duration][98]** 
-   `max` **[Duration][98]** 

##### isInRange

###### Parameters

-   `rawDate`  
-   `date` **([CustomDate][89] \| [Date][106] \| [Number][82])** 

Returns **[Boolean][88]** 

#### Immutable

An abstract class for immutable objects

##### Parameters

-   `props` **[Object][68]** A list of properties to add for the immutable object (optional, default `{}`)

#### Stream

**Extends Immutable**

An abstract class for stream objects

##### onUpdate

Listen on updates of a stream

###### Parameters

-   `callback` **[Function][83]** 

###### Examples

```javascript
const tickStream = api.tickStream('R_100');

tickStream.onUpdate(console.log);

tickStream.onUpdate().subscribe(console.log);
```

Returns **Observable** 

## Core Functionality




### Cache

**Extends DerivAPICalls**

Cache - An in-memory cache used to prevent sending redundant requests to the
API

#### Parameters

-   `api` **[DerivAPI][85]** API instance to get data that is not cached

#### Examples

```javascript
// Read the latest active symbols
const symbols = await api.activeSymbols();

// Read the data from cache if available
const cachedSymbols = await api.cache.activeSymbols();
```

### SubscriptionManager

Subscription Manager - manage subscription channels

Makes sure there is always one subscription channel for all requests of
subscriptions, and forgets channels that don't have subscribers. It also
ensures that subscriptions are revived after connection drop.

#### Examples

```javascript
// This one creates a new subscription assuming it is the first one for R_100
api.subscribeWithCallback({ ticks: 'R_100' }, console.log);

// This one uses the existing subscription to R_100
api.subscribeWithCallback({ ticks: 'R_100' }, console.log);
```

### Storage

**Extends Cache**

Storage - A permanent storage for data, kept in browser and is useful for
data that is valid over extended periods of time.

#### Examples

```javascript
// Read the data from storage if available
const cachedSymbols = await api.storage.activeSymbols();
```

## Object References

These are plain JavaScript objects that are named to easily refer to
them in this documentation, they don't physically exist as a class
in this codebase.


### Parameters




#### CandlesParam

Type: [Object][68]

##### Properties

-   `granularity` **[Number][82]** Granularity in seconds
-   `range` **[HistoryRange][97]** A chunk of history to return with start and end time
-   `symbol` **[String][69]** Symbol of the candles

#### TicksParam

Type: [Object][68]

##### Properties

-   `range` **[HistoryRange][97]** A chunk of history to return with start and end time
-   `symbol` **[String][69]** The ticks symbol

#### ContractsParam

Type: [Object][68]

##### Properties

-   `contractType` **[String][69]** 
-   `amount` **[Number][82]** 
-   `barrier` **[String][69]** 
-   `barrier2` **[String][69]** 
-   `dateExpiry` **([Number][82] \| [Date][106])** epoch in seconds or [Date][107]
-   `dateStart` **([Number][82] \| [Date][106])** epoch in seconds or [Date][107]
-   `Currency` **[String][69]?** Default is the account currency
-   `basis` **[String][69]** stake or payout
-   `duration` **([Number][82] \| [String][69])** duration with unit or duration in number
-   `durationUnit` **[String][69]?** duration unit, required if duration is number
-   `productType` **[String][69]?** 'multi_barrier' or 'basic'
-   `account` **[Account][77]?** The account that has this contract

#### BuyParam

Type: [Object][68]

##### Properties

-   `maxPrice` **[Number][82]?** Maximum acceptable price for buyin the contract

#### SellParam

Type: [Object][68]

##### Properties

-   `maxPrice` **[Number][82]?** Maximum acceptable price for selling the contract

#### HistoryRange

Type: [Object][68]

##### Properties

-   `start` **([Number][82] \| [Date][106])** An epoch in seconds or a Date object
-   `end` **([Number][82] \| [Date][106])**  An epoch in seconds or a Date object
-   `count` **[Number][82]** Number of ticks returned by history

### Plain objects (returned from methods)




#### SpotDurations

Type: [Object][68]

##### Properties

-   `daily` **[DurationRange][108]** 
-   `intraday` **[DurationRange][108]** 
-   `tick` **[DurationRange][108]** 

#### ForwardDurations

Type: [Object][68]

##### Properties

-   `intraday` **[DurationRange][108]** 

#### Durations

Type: [Object][68]

##### Properties

-   `spot` **[SpotDurations][109]** 
-   `forward` **[ForwardDurations][110]** 

#### DurationUnits

Type: [Object][68]

##### Properties

-   `spot` **[FullName][87]** 
-   `forward` **[FullName][87]** 

[1]: #main-modules

[2]: #derivapi

[3]: #parameters

[4]: #examples

[5]: #tickstream

[6]: #candlestream

[7]: #contract

[8]: #underlying

[9]: #account

[10]: #balance

[11]: #transactionstream

[12]: #assets

[13]: #changeaccount

[14]: #derivapibasic

[15]: #parameters-1

[16]: #examples-1

[17]: #subscribewithcallback

[18]: #subscribe

[19]: #onclose

[20]: #abstract-objects

[21]: #immutables

[22]: #account-1

[23]: #assets-1

[24]: #underlying-1

[25]: #tick

[26]: #candle

[27]: #transaction

[28]: #contractgroup

[29]: #buy

[30]: #sell

[31]: #streams

[32]: #balance-1

[33]: #candlestream-1

[34]: #contract-1

[35]: #tickstream-1

[36]: #transactionstream-1

[37]: #types

[38]: #marketvalue

[39]: #monetary

[40]: #fullname

[41]: #customdate

[42]: #daterange

[43]: #duration

[44]: #durationrange

[45]: #immutable

[46]: #stream

[47]: #core-functionality

[48]: #cache

[49]: #parameters-2

[50]: #examples-2

[51]: #subscriptionmanager

[52]: #examples-3

[53]: #storage

[54]: #examples-4

[55]: #object-references

[56]: #parameters-3

[57]: #candlesparam

[58]: #ticksparam

[59]: #contractsparam

[60]: #buyparam

[61]: #sellparam

[62]: #historyrange

[63]: #plain-objects-returned-from-methods

[64]: #spotdurations

[65]: #forwarddurations

[66]: #durations

[67]: #durationunits

[68]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[69]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[70]: #ticksparam

[71]: #tickstream

[72]: #candlesparam

[73]: #candlestream

[74]: #contractsparam

[75]: #contract

[76]: #underlying

[77]: #account

[78]: #balance

[79]: #transactionstream

[80]: #assets

[81]: https://developer.mozilla.org/docs/WebSockets

[82]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[83]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[84]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[85]: #derivapi

[86]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[87]: #fullname

[88]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[89]: #customdate

[90]: #marketvalue

[91]: #monetary

[92]: #durations

[93]: #durationunits

[94]: #daterange

[95]: #derivapicandlestream

[96]: #candle

[97]: #historyrange

[98]: #duration

[99]: #buyparam

[100]: #buy

[101]: #sellparam

[102]: #sell

[103]: #derivapitickstream

[104]: #tick

[105]: #transaction

[106]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[107]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[108]: #durationrange

[109]: #spotdurations

[110]: #forwarddurations
